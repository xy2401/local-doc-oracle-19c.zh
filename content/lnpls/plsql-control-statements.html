<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="PL/SQL has three categories of control statements: conditional selection statements, loop statements and sequential control statements.">
      <meta name="description" content="PL/SQL has three categories of control statements: conditional selection statements, loop statements and sequential control statements.">
      <title>PL / SQL控制语句</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database PL/SQL Language Reference ">
      <meta property="og:description" content="PL/SQL has three categories of control statements: conditional selection statements, loop statements and sequential control statements.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database PL/SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-13T20:26:20-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96448-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="plsql-data-types.html" title="Previous" type="text/html">
      <link rel="next" href="plsql-collections-and-records.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="LNPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="plsql-data-types.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="plsql-collections-and-records.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库PL / SQL语言参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">PL / SQL控制语句</li>
            </ol>
            <a id="GUID-18777904-23F6-4F6D-8B41-46BABF00BA03" name="GUID-18777904-23F6-4F6D-8B41-46BABF00BA03"></a><a id="LNPLS00401"></a><a id="LNPLS320"></a><a id="LNPLS004"></a>
            
            <h2 id="LNPLS-GUID-18777904-23F6-4F6D-8B41-46BABF00BA03" class="sect2"><span class="enumeration_chapter">4个</span> PL / SQL控制语句</h2>
         </header>
         <div class="ind">
            <div>
               <p>PL / SQL有三类控制语句：条件选择语句，循环语句和顺序控制语句。</p>
               <p>PL / SQL类控制语句是：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><span class="bold">条件选择语句</span> ，为不同的数据值运行不同的语句。
                     </p>
                     <p>条件选择语句是<code class="codeph">IF</code>和<code class="codeph">CASE</code> 。</p>
                  </li>
                  <li>
                     <p><span class="bold">循环语句</span> ，使用一系列不同的数据值运行相同的语句。
                     </p>
                     <p>循环语句是基本的<code class="codeph">LOOP</code> ， <code class="codeph">FOR</code> <code class="codeph">LOOP</code>和<code class="codeph">WHILE</code> <code class="codeph">LOOP</code> 。</p>
                     <p><code class="codeph">EXIT</code>语句将控制转移到循环结束。<code class="codeph">CONTINUE</code>语句退出循环的当前迭代并将控制转移到下一次迭代。<code class="codeph">EXIT</code>和<code class="codeph">CONTINUE</code>都有一个可选的<code class="codeph">WHEN</code>子句，您可以在其中指定条件。
                     </p>
                  </li>
                  <li>
                     <p><span class="bold">顺序控制语句</span> ，对PL / SQL编程并不重要。
                     </p>
                     <p>顺序控制语句是<code class="codeph">GOTO</code> ，它转到指定的语句，而<code class="codeph">NULL</code> ，它什么都不做。
                     </p>
                  </li>
               </ul>
               <div class="section">
                  <p class="subhead1" id="GUID-18777904-23F6-4F6D-8B41-46BABF00BA03__GUID-5A185063-7C30-46AE-AE28-E432CE16E467">话题</p>
               </div>
               <!-- class="section" -->
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="plsql-control-statements.html#GUID-B7DD4E62-3ED2-41E9-AAE5-90A78788BB31" title="条件选择语句IF和CASE针对不同的数据值运行不同的语句。">条件选择语句</a></p>
                  </li>
                  <li>
                     <p><a href="plsql-control-statements.html#GUID-4CD12F11-2DB8-4B0D-9E04-DF983DCF9358">循环语句</a></p>
                  </li>
                  <li>
                     <p><a href="plsql-control-statements.html#GUID-7CA9E984-CCB3-4DB8-8D0C-30BF0C74BA83">顺序控制语句</a></p>
                  </li>
               </ul>
            </div><a id="LNPLS322"></a><a id="LNPLS00402"></a><div class="props_rev_3"><a id="GUID-B7DD4E62-3ED2-41E9-AAE5-90A78788BB31" name="GUID-B7DD4E62-3ED2-41E9-AAE5-90A78788BB31"></a><h3 id="LNPLS-GUID-B7DD4E62-3ED2-41E9-AAE5-90A78788BB31" class="sect3"><span class="enumeration_section">4.1</span>条件选择声明</h3>
               <div>
                  <p><span class="bold">条件选择语句</span> <code class="codeph">IF</code>和<code class="codeph">CASE</code>针对不同的数据值运行不同的语句。
                  </p>
                  <p><code class="codeph">IF</code>语句根据条件运行或跳过一个或多个语句的序列。<code class="codeph">IF</code>语句具有以下形式：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">IF</code> <code class="codeph">THEN</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">IF</code> <code class="codeph">THEN</code> <code class="codeph">ELSE</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">IF</code> <code class="codeph">THEN</code> <code class="codeph">ELSIF</code></p>
                     </li>
                  </ul>
                  <p><code class="codeph">CASE</code>语句从一系列条件中选择，并运行相应的语句。<code class="codeph">CASE</code>声明具有以下形式：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>简单，它评估单个表达式并将其与几个潜在值进行比较。</p>
                     </li>
                     <li>
                        <p>搜索，评估多个条件并选择第一个是真的。</p>
                     </li>
                  </ul>
                  <p>当对每个备选方案采取不同的操作时， <code class="codeph">CASE</code>语句是适当的。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B7DD4E62-3ED2-41E9-AAE5-90A78788BB31__GUID-F58F1211-9990-452C-BE65-5E702CBAC2B5">话题</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="plsql-control-statements.html#GUID-1D6FD34F-F58B-4D0B-B7FC-F7C2C22377C3" title="IF THEN语句根据条件运行或跳过一个或多个语句的序列。">如果那么声明</a></p>
                        </li>
                        <li>
                           <p><a href="plsql-control-statements.html#GUID-BED02F52-7886-487A-A45C-D117532EFCF1">如果是那么声明</a></p>
                        </li>
                        <li>
                           <p><a href="plsql-control-statements.html#GUID-71C41E49-99FE-4837-A943-3E6115536485">如果那么ELSIF声明</a></p>
                        </li>
                        <li>
                           <p><a href="plsql-control-statements.html#GUID-3937FEB2-96A1-456B-AD9E-09B627DF0939">简单的CASE声明</a></p>
                        </li>
                        <li>
                           <p><a href="plsql-control-statements.html#GUID-C7CBBE66-5E51-444E-BE92-C23ED662FE4D">搜索CASE声明</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="LNPLS387"></a><a id="LNPLS386"></a><div class="props_rev_3"><a id="GUID-1D6FD34F-F58B-4D0B-B7FC-F7C2C22377C3" name="GUID-1D6FD34F-F58B-4D0B-B7FC-F7C2C22377C3"></a><h4 id="LNPLS-GUID-1D6FD34F-F58B-4D0B-B7FC-F7C2C22377C3" class="sect4"><span class="enumeration_section">4.1.1</span>如果那么声明</h4>
                  <div>
                     <p><code class="codeph">IF</code> <code class="codeph">THEN</code>语句根据条件运行或跳过一个或多个语句的序列。
                     </p>
                     <p><code class="codeph">IF</code> <code class="codeph">THEN</code>语句具有以下结构：</p><pre class="oac_no_warn" dir="ltr">IF <span class="italic">condition</span> THEN
  <span class="italic">statements</span>
END IF;
</pre><p>如果<span class="italic"><code class="codeph">condition</code></span>为真，则<span class="italic"><code class="codeph">statements</code></span>运行;否则， <code class="codeph">IF</code>语句什么都不做。
                     </p>
                     <p>有关完整语法，请参阅<span class="q">“ <a href="IF-statement.html#GUID-B7D65A8E-B0C3-448F-B79C-6C330190A266" title="IF语句运行或跳过一个或多个语句的序列，具体取决于BOOLEAN表达式的值。">IF语句</a> ”</span> 。
                     </p>
                     <div class="infobox-tip" id="GUID-1D6FD34F-F58B-4D0B-B7FC-F7C2C22377C3__GUID-80242D8D-20B3-4C3C-92CF-5D99CBAD8A54">
                        <p class="notep1">小费：</p>
                        <p>避免使用笨拙的<code class="codeph">IF</code>语句，例如：</p><pre class="oac_no_warn" dir="ltr">IF new_balance &lt; minimum_balance THEN
  overdrawn := TRUE;
ELSE
  overdrawn := FALSE;
END IF;
</pre><p>相反，将<code class="codeph">BOOLEAN</code>表达式的值直接赋值给<code class="codeph">BOOLEAN</code>变量：</p><pre class="oac_no_warn" dir="ltr">overdrawn := new_balance &lt; minimum_balance;
</pre><p><code class="codeph">BOOLEAN</code>变量为<code class="codeph">TRUE</code> ， <code class="codeph">FALSE</code>或<code class="codeph">NULL</code> 。不要写：</p><pre class="oac_no_warn" dir="ltr">IF overdrawn = TRUE THEN
  RAISE insufficient_funds;
END IF;
</pre><p>相反，写：</p><pre class="oac_no_warn" dir="ltr">IF overdrawn THEN
  RAISE insufficient_funds;
END IF;</pre></div>
                     <div class="example" id="GUID-1D6FD34F-F58B-4D0B-B7FC-F7C2C22377C3__BABDAEGB">
                        <p class="titleinexample">例4-1 IF THEN声明</p>
                        <p>在此示例中，当且仅当<code class="codeph">sales</code>的值大于<code class="codeph">quota</code> +200时， <code class="codeph">THEN</code>和<code class="codeph">END</code> <code class="codeph">IF</code>之间的语句才会运行。
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE
  PROCEDURE p (
    sales  NUMBER,
    quota  NUMBER,
    emp_id NUMBER
  )
  IS
    bonus    NUMBER := 0;
    updated  VARCHAR2(3) := 'No';
  BEGIN
    <span class="bold">IF sales &gt; (quota + 200) THEN</span>
      bonus := (sales - quota)/4;
 
      UPDATE employees
      SET salary = salary + bonus 
      WHERE employee_id = emp_id;
 
      updated := 'Yes';
    <span class="bold">END IF;</span>
 
    DBMS_OUTPUT.PUT_LINE (
      'Table updated?  ' || updated || ', ' || 
      'bonus = ' || bonus || '.'
    );
  END p;
BEGIN
  p(10100, 10000, 120);
  p(10500, 10000, 121);
END;
/
 </pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">Table updated?  No, bonus = 0.
Table updated?  Yes, bonus = 125.</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNPLS389"></a><a id="LNPLS390"></a><a id="LNPLS388"></a><div class="props_rev_3"><a id="GUID-BED02F52-7886-487A-A45C-D117532EFCF1" name="GUID-BED02F52-7886-487A-A45C-D117532EFCF1"></a><h4 id="LNPLS-GUID-BED02F52-7886-487A-A45C-D117532EFCF1" class="sect4"><span class="enumeration_section">4.1.2</span>如果那么是陈述</h4>
                  <div>
                     <p><code class="codeph">IF</code> <code class="codeph">THEN</code> <code class="codeph">ELSE</code>语句具有以下结构：</p><pre class="oac_no_warn" dir="ltr">IF <span class="italic">condition</span> THEN
  <span class="italic">statements</span>
ELSE
  <span class="italic">else_statements</span>
END IF;
</pre><p>如果<span class="italic"><code class="codeph">condition</code></span>值为true，则运行<span class="italic"><code class="codeph">statements</code></span> ;否则， <span class="italic"><code class="codeph">else_statements</code></span>运行。
                     </p>
                     <p><code class="codeph">IF</code>语句可以嵌套，如<a href="plsql-control-statements.html#GUID-BED02F52-7886-487A-A45C-D117532EFCF1__BABHIAAC">例4-3所示</a> 。
                     </p>
                     <p>有关完整语法，请参阅<span class="q">“ <a href="IF-statement.html#GUID-B7D65A8E-B0C3-448F-B79C-6C330190A266" title="IF语句运行或跳过一个或多个语句的序列，具体取决于BOOLEAN表达式的值。">IF语句</a> ”</span> 。
                     </p>
                     <div class="example" id="GUID-BED02F52-7886-487A-A45C-D117532EFCF1__BABGBDCB">
                        <p class="titleinexample">例4-2如果那么是陈述</p>
                        <p>在此示例中，当且仅当<code class="codeph">sales</code>的值大于<code class="codeph">quota</code> +200时， <code class="codeph">THEN</code>和<code class="codeph">ELSE</code>之间的语句才会运行。否则， <code class="codeph">ELSE</code>和<code class="codeph">END</code> <code class="codeph">IF</code>之间的语句运行。
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE
  PROCEDURE p (
    sales  NUMBER,
    quota  NUMBER,
    emp_id NUMBER
  )
  IS
    bonus  NUMBER := 0;
  BEGIN
    <span class="bold">IF sales &gt; (quota + 200) THEN</span>
      bonus := (sales - quota)/4;
    <span class="bold">ELSE</span>
      bonus := 50;
    <span class="bold">END IF;</span>
 
    DBMS_OUTPUT.PUT_LINE('bonus = ' || bonus);
 
    UPDATE employees
    SET salary = salary + bonus 
    WHERE employee_id = emp_id;
  END p;
BEGIN
  p(10100, 10000, 120);
  p(10500, 10000, 121);
END;
/
</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">bonus = 50
bonus = 125
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-BED02F52-7886-487A-A45C-D117532EFCF1__BABHIAAC">
                        <p class="titleinexample">例4-3嵌套的IF那么ELES语句</p><pre class="oac_no_warn" dir="ltr">DECLARE
  PROCEDURE p (
    sales  NUMBER,
    quota  NUMBER,
    emp_id NUMBER
  )
  IS
    bonus  NUMBER := 0;
  BEGIN
    <span class="bold">IF sales &gt; (quota + 200) THEN</span>
      bonus := (sales - quota)/4;
    <span class="bold">ELSE</span>
      <span class="bold">IF sales &gt; quota THEN</span>
        bonus := 50;
      <span class="bold">ELSE</span>
        bonus := 0;
      <span class="bold">END IF;</span>
    <span class="bold">END IF;</span>
 
    DBMS_OUTPUT.PUT_LINE('bonus = ' || bonus);
 
    UPDATE employees
    SET salary = salary + bonus 
    WHERE employee_id = emp_id;
  END p;
BEGIN
  p(10100, 10000, 120);
  p(10500, 10000, 121);
  p(9500, 10000, 122);
END;
/
</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">bonus = 50
bonus = 125
bonus = 0</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNPLS392"></a><a id="LNPLS393"></a><a id="LNPLS391"></a><div class="props_rev_3"><a id="GUID-71C41E49-99FE-4837-A943-3E6115536485" name="GUID-71C41E49-99FE-4837-A943-3E6115536485"></a><h4 id="LNPLS-GUID-71C41E49-99FE-4837-A943-3E6115536485" class="sect4"><span class="enumeration_section">4.1.3</span>如果那么ELSIF声明</h4>
                  <div>
                     <p><code class="codeph">IF</code> <code class="codeph">THEN</code> <code class="codeph">ELSIF</code>语句具有以下结构：</p><pre class="oac_no_warn" dir="ltr">IF <span class="italic">condition_1</span> THEN
  <span class="italic">statements_1</span>
ELSIF <span class="italic">condition_2</span> THEN
  <span class="italic">statements_2</span>
[ ELSIF <span class="italic">condition_3</span> THEN
    <span class="italic">statements_3</span>
]...
[ ELSE
  <span class="italic">  else_statements</span>
]
END IF;
</pre><p><code class="codeph">IF</code> <code class="codeph">THEN</code> <code class="codeph">ELSIF</code>语句运行<span class="italic"><code class="codeph">condition</code></span>为真的第一个<span class="italic"><code class="codeph">statements</code></span> 。不评估剩余条件。如果没有<span class="italic"><code class="codeph">condition</code></span> ，则<span class="italic"><code class="codeph">else_statements</code></span>运行（如果存在）;否则， <code class="codeph">IF</code> <code class="codeph">THEN</code> <code class="codeph">ELSIF</code>语句什么都不做。
                     </p>
                     <p>单个<code class="codeph">IF</code> <code class="codeph">THEN</code> <code class="codeph">ELSIF</code>语句比逻辑上等效的嵌套<code class="codeph">IF</code> <code class="codeph">THEN</code> <code class="codeph">ELSE</code>语句更容易理解：</p><pre class="oac_no_warn" dir="ltr"><span class="bold">-- IF THEN ELSIF statement</span>

IF <span class="italic">condition_1</span> THEN <span class="italic">statements_1</span>;
  ELSIF <span class="italic">condition_2</span> THEN <span class="italic">statements_2</span>;
  ELSIF <span class="italic">condition_3</span> THEN <span class="italic">statement_3</span>;
END IF;

<span class="bold">-- Logically equivalent nested IF THEN ELSE statements</span>

IF <span class="italic">condition_1</span> THEN
  <span class="italic">statements_1</span>;
ELSE
  IF <span class="italic">condition_2</span> THEN
    <span class="italic">statements_2</span>;
  ELSE
    IF <span class="italic">condition_3</span> THEN
      <span class="italic">statements_3</span>;
    END IF;
  END IF;
END IF;
</pre><p>有关完整语法，请参阅<span class="q">“ <a href="IF-statement.html#GUID-B7D65A8E-B0C3-448F-B79C-6C330190A266" title="IF语句运行或跳过一个或多个语句的序列，具体取决于BOOLEAN表达式的值。">IF语句</a> ”</span> 。
                     </p>
                     <div class="example" id="GUID-71C41E49-99FE-4837-A943-3E6115536485__BABGEHAI">
                        <p class="titleinexample">例4-4如果那么ELSIF声明</p>
                        <p>在此示例中，当<code class="codeph">sales</code>的值大于50000时，第一个和第二个条件都为true。但是，因为第一个条件为真，所以<code class="codeph">bonus</code>被赋值为1500，而第二个条件从未被测试过。<code class="codeph">bonus</code>分配值1500后，控制权传递给<code class="codeph">DBMS_OUTPUT</code> 。 <code class="codeph">PUT_LINE</code>调用。
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE
  PROCEDURE p (sales NUMBER)
  IS
    bonus  NUMBER := 0;
  BEGIN 
    <span class="bold">IF sales &gt; 50000 THEN</span>
      bonus := 1500;
    <span class="bold">ELSIF sales &gt; 35000 THEN</span>
      bonus := 500;
    <span class="bold">ELSE</span>
      bonus := 100;
    <span class="bold">END IF;</span>
 
    DBMS_OUTPUT.PUT_LINE (
      'Sales = ' || sales || ', bonus = ' || bonus || '.'
    );
  END p;
BEGIN
  p(55000);
  p(40000);
  p(30000);
END;
/
</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">Sales = 55000, bonus = 1500.
Sales = 40000, bonus = 500.
Sales = 30000, bonus = 100.
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-71C41E49-99FE-4837-A943-3E6115536485__BCGJGBEF">
                        <p class="titleinexample">例4-5如果那么ELSIF语句模拟简单的CASE语句</p>
                        <p>此示例使用带有许多<code class="codeph">ELSIF</code>子句的<code class="codeph">IF</code> <code class="codeph">THEN</code> <code class="codeph">ELSIF</code>语句将单个值与许多可能值进行比较。为此，一个简单的<code class="codeph">CASE</code>语句更清晰 - 参见<a href="plsql-control-statements.html#GUID-3937FEB2-96A1-456B-AD9E-09B627DF0939__BABCEEEI">例4-6</a> 。
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE
  grade CHAR(1);
BEGIN
  grade := 'B';
  
  IF grade = 'A' THEN
    DBMS_OUTPUT.PUT_LINE('Excellent');
  ELSIF grade = 'B' THEN
    DBMS_OUTPUT.PUT_LINE('Very Good');
  ELSIF grade = 'C' THEN
    DBMS_OUTPUT.PUT_LINE('Good');
  ELSIF grade = 'D' THEN
    DBMS_OUTPUT. PUT_LINE('Fair');
  ELSIF grade = 'F' THEN
    DBMS_OUTPUT.PUT_LINE('Poor');
  ELSE
    DBMS_OUTPUT.PUT_LINE('No such grade');
  END IF;
END;
/
 </pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">Very Good</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNPLS395"></a><a id="LNPLS394"></a><div class="props_rev_3"><a id="GUID-3937FEB2-96A1-456B-AD9E-09B627DF0939" name="GUID-3937FEB2-96A1-456B-AD9E-09B627DF0939"></a><h4 id="LNPLS-GUID-3937FEB2-96A1-456B-AD9E-09B627DF0939" class="sect4"><span class="enumeration_section">4.1.4</span>简单CASE声明</h4>
                  <div>
                     <p>简单的<code class="codeph">CASE</code>语句具有以下结构：</p><pre class="oac_no_warn" dir="ltr">CASE <span class="italic">selector</span>
WHEN <span class="italic">selector_value_1</span> THEN <span class="italic">statements_1</span>
WHEN <span class="italic">selector_value_2</span> THEN <span class="italic">statements_2</span>
...
WHEN <span class="italic">selector_value_</span>n THEN <span class="italic">statements_</span>n
[ ELSE
  <span class="italic">else_statements</span> ]
END CASE;]
</pre><p><span class="italic"><code class="codeph">selector</code></span>是一个表达式（通常是单个变量）。每个<span class="italic"><code class="codeph">selector_value</code></span>可以是文字或表达式。（有关完整语法，请参阅<span class="q">“ <a href="CASE-statement.html#GUID-F4251A23-0284-4990-A156-00A92F83BC35" title="CASE语句从一系列条件中选择并运行相应的语句。">CASE语句</a> ”</span> 。）
                     </p>
                     <p>简单的<code class="codeph">CASE</code>语句运行第一个<span class="italic"><code class="codeph">statements</code></span> ，其中<span class="italic"><code class="codeph">selector_value</code></span>等于<span class="italic"><code class="codeph">selector</code></span> 。不评估剩余条件。如果没有<span class="italic"><code class="codeph">selector_value</code></span>等于<span class="italic"><code class="codeph">selector</code></span> ，则<code class="codeph">CASE</code>语句如果存在则运行<span class="italic"><code class="codeph">else_statements</code></span>否则引发预定义的异常<code class="codeph">CASE_NOT_FOUND</code> 。
                     </p>
                     <p><a href="plsql-control-statements.html#GUID-3937FEB2-96A1-456B-AD9E-09B627DF0939__BABCEEEI">示例4-6</a>使用简单的<code class="codeph">CASE</code>语句将单个值与许多可能的值进行比较。<a href="plsql-control-statements.html#GUID-3937FEB2-96A1-456B-AD9E-09B627DF0939__BABCEEEI">例4-6中</a>的<code class="codeph">CASE</code>语句在逻辑上等同于<a href="plsql-control-statements.html#GUID-71C41E49-99FE-4837-A943-3E6115536485__BCGJGBEF">例4-5中</a>的<code class="codeph">IF</code> <code class="codeph">THEN</code> <code class="codeph">ELSIF</code>语句。
                     </p>
                     <div class="infoboxnote" id="GUID-3937FEB2-96A1-456B-AD9E-09B627DF0939__GUID-DD3AF346-B400-4911-B015-A94CDBE7E662">
                        <p class="notep1">注意：</p>
                        <p>与简单的<code class="codeph">CASE</code>表达式一样，如果简单<code class="codeph">CASE</code>语句中的选择器的值为<code class="codeph">NULL</code> ，则<code class="codeph">WHEN</code> <code class="codeph">NULL</code>不能匹配它（参见<a href="plsql-language-fundamentals.html#GUID-F52A70F5-87E1-4AAE-9388-FE56E1ED5598__CIHIJABF">例2-51</a> ）。相反，使用<code class="codeph">WHEN</code> <span class="italic"><code class="codeph">condition</code></span> <code class="codeph">IS</code> <code class="codeph">NULL</code>的搜索<code class="codeph">CASE</code>语句（参见<a href="plsql-language-fundamentals.html#GUID-42342604-3BCD-48A3-B1F9-B0656E37C2CC__CIHDDFHC">例2-53</a> ）。
                        </p>
                     </div>
                     <div class="example" id="GUID-3937FEB2-96A1-456B-AD9E-09B627DF0939__BABCEEEI">
                        <p class="titleinexample">例4-6简单CASE语句</p><pre class="oac_no_warn" dir="ltr">DECLARE
  grade CHAR(1);
BEGIN
  grade := 'B';

  <span class="bold">CASE grade</span>
    <span class="bold">WHEN 'A' THEN</span> DBMS_OUTPUT.PUT_LINE('Excellent');
    <span class="bold">WHEN 'B' THEN</span> DBMS_OUTPUT.PUT_LINE('Very Good');
    <span class="bold">WHEN 'C' THEN</span> DBMS_OUTPUT.PUT_LINE('Good');
    <span class="bold">WHEN 'D' THEN</span> DBMS_OUTPUT.PUT_LINE('Fair');
    <span class="bold">WHEN 'F' THEN</span> DBMS_OUTPUT.PUT_LINE('Poor');
    <span class="bold">ELSE</span> DBMS_OUTPUT.PUT_LINE('No such grade');
  <span class="bold">END CASE;</span>
END;
/
 </pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">Very Good</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNPLS324"></a><a id="LNPLS325"></a><a id="LNPLS99972"></a><div class="props_rev_3"><a id="GUID-C7CBBE66-5E51-444E-BE92-C23ED662FE4D" name="GUID-C7CBBE66-5E51-444E-BE92-C23ED662FE4D"></a><h4 id="LNPLS-GUID-C7CBBE66-5E51-444E-BE92-C23ED662FE4D" class="sect4"><span class="enumeration_section">4.1.5</span>搜索CASE声明</h4>
                  <div>
                     <p>搜索到的<code class="codeph">CASE</code>语句具有以下结构：</p><pre class="oac_no_warn" dir="ltr">CASE
WHEN <span class="italic">condition_1</span> THEN <span class="italic">statements_1</span>
WHEN <span class="italic">condition_2</span> THEN <span class="italic">statements_2</span>
...
WHEN <span class="italic">condition_</span>n THEN <span class="italic">statements_</span>n
[ ELSE
  <span class="italic">else_statements</span> ]
END CASE;]
</pre><p>搜索到的<code class="codeph">CASE</code>语句运行<span class="italic"><code class="codeph">condition</code></span>为true的第一个<span class="italic"><code class="codeph">statements</code></span> 。不评估剩余条件。如果没有<span class="italic"><code class="codeph">condition</code></span>为真，则<code class="codeph">CASE</code>语句如果存在则运行<span class="italic"><code class="codeph">else_statements</code></span>否则引发预定义的异常<code class="codeph">CASE_NOT_FOUND</code> 。（有关完整语法，请参阅<span class="q">“ <a href="CASE-statement.html#GUID-F4251A23-0284-4990-A156-00A92F83BC35" title="CASE语句从一系列条件中选择并运行相应的语句。">CASE语句</a> ”</span> 。）
                     </p>
                     <p><a href="plsql-control-statements.html#GUID-C7CBBE66-5E51-444E-BE92-C23ED662FE4D__CJAHCDFB">例4-7中</a>搜索的<code class="codeph">CASE</code>语句在逻辑上等同于<a href="plsql-control-statements.html#GUID-3937FEB2-96A1-456B-AD9E-09B627DF0939__BABCEEEI">例4-6中</a>的简单<code class="codeph">CASE</code>语句。
                     </p>
                     <p>在<a href="plsql-control-statements.html#GUID-C7CBBE66-5E51-444E-BE92-C23ED662FE4D__CJAHCDFB">例4-7</a>和<a href="plsql-control-statements.html#GUID-3937FEB2-96A1-456B-AD9E-09B627DF0939__BABCEEEI">例4-6中</a> ， <code class="codeph">ELSE</code>子句可以用<code class="codeph">EXCEPTION</code>部分代替。<a href="plsql-control-statements.html#GUID-C7CBBE66-5E51-444E-BE92-C23ED662FE4D__CJAEIEID">实施例4-8</a>在逻辑上等同于<a href="plsql-control-statements.html#GUID-C7CBBE66-5E51-444E-BE92-C23ED662FE4D__CJAHCDFB">实施例4-7</a> 。
                     </p>
                     <div class="example" id="GUID-C7CBBE66-5E51-444E-BE92-C23ED662FE4D__CJAHCDFB">
                        <p class="titleinexample">例4-7搜索CASE声明</p><pre class="oac_no_warn" dir="ltr">DECLARE
  grade CHAR(1);
BEGIN
  grade := 'B';
  
  <span class="bold">CASE</span>
    <span class="bold">WHEN grade = 'A' THEN</span> DBMS_OUTPUT.PUT_LINE('Excellent');
    <span class="bold">WHEN grade = 'B' THEN</span> DBMS_OUTPUT.PUT_LINE('Very Good');
    <span class="bold">WHEN grade = 'C'</span> THEN DBMS_OUTPUT.PUT_LINE('Good');
    <span class="bold">WHEN grade = 'D'</span> THEN DBMS_OUTPUT.PUT_LINE('Fair');
    <span class="bold">WHEN grade = 'F'</span> THEN DBMS_OUTPUT.PUT_LINE('Poor');
    <span class="bold">ELSE</span> DBMS_OUTPUT.PUT_LINE('No such grade');
  <span class="bold">END CASE;</span>
END;
/
 </pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">Very Good
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-C7CBBE66-5E51-444E-BE92-C23ED662FE4D__CJAEIEID">
                        <p class="titleinexample">例4-8异常而不是CASE语句中的ELSE子句</p><pre class="oac_no_warn" dir="ltr">DECLARE
  grade CHAR(1);
BEGIN
  grade := 'B';
  
  CASE
    WHEN grade = 'A' THEN DBMS_OUTPUT.PUT_LINE('Excellent');
    WHEN grade = 'B' THEN DBMS_OUTPUT.PUT_LINE('Very Good');
    WHEN grade = 'C' THEN DBMS_OUTPUT.PUT_LINE('Good');
    WHEN grade = 'D' THEN DBMS_OUTPUT.PUT_LINE('Fair');
    WHEN grade = 'F' THEN DBMS_OUTPUT.PUT_LINE('Poor');
  END CASE;
<span class="bold">EXCEPTION</span>
  <span class="bold">WHEN CASE_NOT_FOUND THEN</span>
    <span class="bold">DBMS_OUTPUT.PUT_LINE('No such grade');</span>
END;
/
 </pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">Very Good</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="LNPLS328"></a><a id="LNPLS00403"></a><div class="props_rev_3"><a id="GUID-4CD12F11-2DB8-4B0D-9E04-DF983DCF9358" name="GUID-4CD12F11-2DB8-4B0D-9E04-DF983DCF9358"></a><h3 id="LNPLS-GUID-4CD12F11-2DB8-4B0D-9E04-DF983DCF9358" class="sect3"><span class="enumeration_section">4.2</span> LOOP声明</h3>
               <div>
                  <p><span class="bold">循环语句</span>使用一系列不同的值运行相同的语句。循环语句是：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>基本<code class="codeph">LOOP</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">FOR</code> <code class="codeph">LOOP</code></p>
                     </li>
                     <li>
                        <p>光标<code class="codeph">FOR</code> <code class="codeph">LOOP</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">WHILE</code> <code class="codeph">LOOP</code></p>
                     </li>
                  </ul>
                  <p>退出循环的语句是：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">出口</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">EXIT</code> <code class="codeph">WHEN</code></p>
                     </li>
                  </ul>
                  <p>退出循环的当前迭代的语句是：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">继续</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">CONTINUE</code> <code class="codeph">WHEN</code></p>
                     </li>
                  </ul>
                  <p><code class="codeph">EXIT</code> ， <code class="codeph">EXIT</code> <code class="codeph">WHEN</code> ， <code class="codeph">CONTINUE</code>和<code class="codeph">CONTINUE</code> <code class="codeph">WHEN</code>并且可以出现在循环内的任何位置，但不能出现在循环之外。Oracle建议使用这些语句而不是<span class="q">“ <a href="plsql-control-statements.html#GUID-7C14CDED-B86F-4496-A1F6-8C3B67E3B032">GOTO语句</a> ”</span> ，它可以通过将控制转移到循环外的语句来退出循环或循环的当前迭代。（引发异常也会退出循环。有关异常的信息，请参阅<span class="q">“ <a href="plsql-error-handling.html#GUID-343E0653-9BCE-48F5-A00A-795D77B96B44">异常处理概述</a> ”</span> 。）
                  </p>
                  <p><code class="codeph">LOOP</code>语句可以被标记，并<code class="codeph">LOOP</code>语句可以被嵌套。建议将标签用于嵌套循环以提高可读性。您必须确保<code class="codeph">END</code> <code class="codeph">LOOP</code>语句中的标签与同一循环语句开头的标签匹配（编译器不检查）。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-4CD12F11-2DB8-4B0D-9E04-DF983DCF9358__GUID-3982C328-6C0E-4C82-B1B3-B36D47353A8C">话题</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="plsql-control-statements.html#GUID-0E130F2D-9635-4C0B-9D63-16C3D9FBE7D2">基本LOOP声明</a></p>
                        </li>
                        <li>
                           <p><a href="plsql-control-statements.html#GUID-BDA8C30C-5F4C-4FE6-8CEF-0377DC474A6F">退出声明</a></p>
                        </li>
                        <li>
                           <p><a href="plsql-control-statements.html#GUID-C2A0DEAE-446D-43ED-9D35-067E87A074B1">退出时声明</a></p>
                        </li>
                        <li>
                           <p><a href="plsql-control-statements.html#GUID-F8B243D3-F7B4-4278-B262-283C521D600C">CONTINUE声明</a></p>
                        </li>
                        <li>
                           <p><a href="plsql-control-statements.html#GUID-A8E7FBAC-FA6D-4B74-B8FB-CCB73E6C88A8">继续发表声明</a></p>
                        </li>
                        <li>
                           <p><a href="plsql-control-statements.html#GUID-C4BC9960-5945-4646-BBDE-DC00346F8702">FOR LOOP声明</a></p>
                        </li>
                        <li>
                           <p><a href="plsql-control-statements.html#GUID-3F69F563-BCAE-4D3E-8E03-F53C8D64D093">WHILE LOOP声明</a></p>
                        </li>
                     </ul>
                     <p>有关游标<code class="codeph">FOR</code> <code class="codeph">LOOP</code> ，请参阅<span class="q">“ <a href="static-sql.html#GUID-25917214-FD91-499D-AB39-CE21484AB167" title="游标FOR LOOP语句允许您运行SELECT语句，然后立即循环遍历结果集的行。">使用光标处理查询结果集以获取LOOP语句</a> ”</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div><a id="LNPLS399"></a><div class="props_rev_3"><a id="GUID-0E130F2D-9635-4C0B-9D63-16C3D9FBE7D2" name="GUID-0E130F2D-9635-4C0B-9D63-16C3D9FBE7D2"></a><h4 id="LNPLS-GUID-0E130F2D-9635-4C0B-9D63-16C3D9FBE7D2" class="sect4"><span class="enumeration_section">4.2.1</span>基本LOOP声明</h4>
                  <div>
                     <p>基本的<code class="codeph">LOOP</code>语句具有以下结构：</p><pre class="oac_no_warn" dir="ltr">[ <span class="italic">label</span> ] LOOP
  <span class="italic">statements</span>
END LOOP [ <span class="italic">label</span> ];
</pre><p>随着循环的每次迭代， <span class="italic"><code class="codeph">statements</code></span>运行并且控制返回到循环的顶部。为了防止无限循环，语句或引发的异常必须退出循环。
                     </p>
                     <div class="infoboxnotealso" id="GUID-0E130F2D-9635-4C0B-9D63-16C3D9FBE7D2__GUID-D97E9A11-4FE1-4FC9-B798-EABA4EDDCC5F">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="basic-LOOP-statement.html#GUID-99AC48AC-D868-43C4-9E4D-6A7671942A39" title="随着基本LOOP语句的每次迭代，其语句运行并且控制返回到循环的顶部。当循环内的语句将控制转移到循环外或引发异常时，LOOP语句结束。">基本LOOP声明</a> ”</span></p>
                     </div>
                  </div>
               </div><a id="LNPLS329"></a><a id="LNPLS400"></a><div class="props_rev_3"><a id="GUID-BDA8C30C-5F4C-4FE6-8CEF-0377DC474A6F" name="GUID-BDA8C30C-5F4C-4FE6-8CEF-0377DC474A6F"></a><h4 id="LNPLS-GUID-BDA8C30C-5F4C-4FE6-8CEF-0377DC474A6F" class="sect4"><span class="enumeration_section">4.2.2</span>退出声明</h4>
                  <div>
                     <p><code class="codeph">EXIT</code>语句无条件地退出循环的当前迭代，并将控制转移到当前循环或封闭标记循环的末尾。
                     </p>
                     <p>在<a href="plsql-control-statements.html#GUID-BDA8C30C-5F4C-4FE6-8CEF-0377DC474A6F__BABGDICE">例4-9中</a> ，基本<code class="codeph">LOOP</code>语句中的<code class="codeph">EXIT</code>语句无条件地将控制转移到当前循环的末尾。
                     </p>
                     <div class="infoboxnotealso" id="GUID-BDA8C30C-5F4C-4FE6-8CEF-0377DC474A6F__GUID-22405BFC-43FF-4DC1-9E5E-1CBE19FF25F9">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="EXIT-statement.html#GUID-66E20B6C-3606-42AD-A7DB-C8EC782B94D8" title="EXIT语句有条件地或无条件地退出循环的当前迭代，并将控制转移到当前循环或封闭标记循环的末尾。">退出声明</a> ”</span></p>
                     </div>
                     <div class="example" id="GUID-BDA8C30C-5F4C-4FE6-8CEF-0377DC474A6F__BABGDICE">
                        <p class="titleinexample">例4-9带EXIT语句的基本LOOP语句</p><pre class="oac_no_warn" dir="ltr">DECLARE
  x NUMBER := 0;
BEGIN
  <span class="bold">LOOP</span>
    DBMS_OUTPUT.PUT_LINE ('Inside loop:  x = ' || TO_CHAR(x));
    x := x + 1;
    IF x &gt; 3 THEN
      <span class="bold">EXIT;</span>
    END IF;
  <span class="bold">END LOOP;</span>
  <span class="bold">-- After EXIT, control resumes here</span>
  DBMS_OUTPUT.PUT_LINE(' After loop:  x = ' || TO_CHAR(x));
END;
/
 </pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">Inside loop:  x = 0
Inside loop:  x = 1
Inside loop:  x = 2
Inside loop:  x = 3
After loop:  x = 4</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNPLS330"></a><a id="LNPLS409"></a><a id="LNPLS402"></a><div class="props_rev_3"><a id="GUID-C2A0DEAE-446D-43ED-9D35-067E87A074B1" name="GUID-C2A0DEAE-446D-43ED-9D35-067E87A074B1"></a><h4 id="LNPLS-GUID-C2A0DEAE-446D-43ED-9D35-067E87A074B1" class="sect4"><span class="enumeration_section">4.2.3</span>声明时退出</h4>
                  <div>
                     <p><code class="codeph">WHEN</code> <code class="codeph">WHEN</code>子句中的条件为真时， <code class="codeph">EXIT</code> <code class="codeph">WHEN</code>语句退出循环的当前迭代，并将控制转移到当前循环或封闭标记循环的末尾。
                     </p>
                     <p>每次控制到达<code class="codeph">EXIT</code> <code class="codeph">WHEN</code>语句时，都会评估其<code class="codeph">WHEN</code>子句中的条件。如果条件不为真，则<code class="codeph">EXIT</code> <code class="codeph">WHEN</code>语句不执行任何操作。为了防止无限循环，循环内的语句必须使条件为真，如<a href="plsql-control-statements.html#GUID-C2A0DEAE-446D-43ED-9D35-067E87A074B1__BABDGJDG">例4-10所示</a> 。
                     </p>
                     <p>在<a href="plsql-control-statements.html#GUID-C2A0DEAE-446D-43ED-9D35-067E87A074B1__BABDGJDG">例4-10中</a> ，当<code class="codeph">x</code>大于3时，基本<code class="codeph">LOOP</code>语句中的<code class="codeph">EXIT</code> <code class="codeph">WHEN</code>语句将控制转移到当前循环的末尾。<a href="plsql-control-statements.html#GUID-C2A0DEAE-446D-43ED-9D35-067E87A074B1__BABDGJDG">实施例4-10</a>在逻辑上等同于<a href="plsql-control-statements.html#GUID-BDA8C30C-5F4C-4FE6-8CEF-0377DC474A6F__BABGDICE">实施例4-9</a> 。
                     </p>
                     <div class="infoboxnotealso" id="GUID-C2A0DEAE-446D-43ED-9D35-067E87A074B1__GUID-F1033EEA-1A1B-4024-8720-24BF667B8FDE">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="EXIT-statement.html#GUID-66E20B6C-3606-42AD-A7DB-C8EC782B94D8" title="EXIT语句有条件地或无条件地退出循环的当前迭代，并将控制转移到当前循环或封闭标记循环的末尾。">退出声明</a> ”</span></p>
                     </div>
                     <p>在<a href="plsql-control-statements.html#GUID-C2A0DEAE-446D-43ED-9D35-067E87A074B1__BCGBGDFF">例4-11中</a> ，一个基本的<code class="codeph">LOOP</code>语句嵌套在另一个中，并且都有标签。内部循环有两个<code class="codeph">EXIT</code> <code class="codeph">WHEN</code>语句;一个退出内循环，一个退出外循环。
                     </p>
                     <p>内循环中的<code class="codeph">EXIT</code> <code class="codeph">WHEN</code>语句只有在外循环被标记时才能将控制转移到外循环。
                     </p>
                     <p>在<a href="plsql-control-statements.html#GUID-C2A0DEAE-446D-43ED-9D35-067E87A074B1__CIHBFGEA">例4-12中</a> ，外环没有标记;因此，内环不能将控制权转移给它。
                     </p>
                     <div class="example" id="GUID-C2A0DEAE-446D-43ED-9D35-067E87A074B1__BABDGJDG">
                        <p class="titleinexample">示例4-10带EXIT WHEN语句的基本LOOP语句</p><pre class="oac_no_warn" dir="ltr">DECLARE
  x NUMBER := 0;
BEGIN
  <span class="bold">LOOP</span>
    DBMS_OUTPUT.PUT_LINE('Inside loop:  x = ' || TO_CHAR(x));
    <span class="bold">x := x + 1;  -- prevents infinite loop</span>
    <span class="bold">EXIT WHEN x &gt; 3;</span>
  <span class="bold">END LOOP;</span>
  <span class="bold">-- After EXIT statement, control resumes here</span>
  DBMS_OUTPUT.PUT_LINE('After loop:  x = ' || TO_CHAR(x));
END;
/
 </pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">Inside loop:  x = 0
Inside loop:  x = 1
Inside loop:  x = 2
Inside loop:  x = 3
After loop:  x = 4</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-C2A0DEAE-446D-43ED-9D35-067E87A074B1__BCGBGDFF">
                        <p class="titleinexample">示例4-11使用EXIT WHEN语句的嵌套，标记的基本LOOP语句</p><pre class="oac_no_warn" dir="ltr">DECLARE
  s  PLS_INTEGER := 0;
  i  PLS_INTEGER := 0;
  j  PLS_INTEGER;
BEGIN
  <span class="bold">&lt;&lt;outer_loop&gt;&gt;</span>
  LOOP
    i := i + 1;
    j := 0;
    <span class="bold">&lt;&lt;inner_loop&gt;&gt;</span>
    LOOP
      j := j + 1;
      s := s + i * j; -- Sum several products
      <span class="bold">EXIT inner_loop WHEN (j &gt; 5);</span>
      <span class="bold">EXIT outer_loop WHEN ((i * j) &gt; 15);</span>
    END LOOP inner_loop;
  END LOOP outer_loop;
  DBMS_OUTPUT.PUT_LINE
    ('The sum of products equals: ' || TO_CHAR(s));
END;
/
 </pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">The sum of products equals: 166
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-C2A0DEAE-446D-43ED-9D35-067E87A074B1__CIHBFGEA">
                        <p class="titleinexample">示例4-12具有EXIT WHEN语句的嵌套，未显示的基本LOOP语句</p><pre class="oac_no_warn" dir="ltr">DECLARE
  i PLS_INTEGER := 0;
  j PLS_INTEGER := 0;
 
BEGIN
  LOOP
    i := i + 1;
    DBMS_OUTPUT.PUT_LINE ('i = ' || i);
    
    LOOP
      j := j + 1;
      DBMS_OUTPUT.PUT_LINE ('j = ' || j);
      <span class="bold">EXIT WHEN (j &gt; 3);</span>
    END LOOP;
 
    DBMS_OUTPUT.PUT_LINE ('Exited inner loop');
 
    <span class="bold">EXIT WHEN (i &gt; 2);</span>
  END LOOP;
 
  DBMS_OUTPUT.PUT_LINE ('Exited outer loop');
END;
/
</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">i = 1
j = 1
j = 2
j = 3
j = 4
Exited inner loop
i = 2
j = 5
Exited inner loop
i = 3
j = 6
Exited inner loop
Exited outer loop
 
PL/SQL procedure successfully completed.</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNPLS331"></a><a id="LNPLS404"></a><div class="props_rev_3"><a id="GUID-F8B243D3-F7B4-4278-B262-283C521D600C" name="GUID-F8B243D3-F7B4-4278-B262-283C521D600C"></a><h4 id="LNPLS-GUID-F8B243D3-F7B4-4278-B262-283C521D600C" class="sect4"><span class="enumeration_section">4.2.4</span> CONTINUE声明</h4>
                  <div>
                     <p><code class="codeph">CONTINUE</code>语句无条件地退出循环的当前迭代，并将控制转移到当前循环或封闭标记循环的下一次迭代。
                     </p>
                     <p>在<a href="plsql-control-statements.html#GUID-F8B243D3-F7B4-4278-B262-283C521D600C__BABHCHIG">例4-13中</a> ，基本<code class="codeph">LOOP</code>语句中的<code class="codeph">CONTINUE</code>语句无条件地将控制转移到当前循环的下一次迭代。
                     </p>
                     <div class="infoboxnotealso" id="GUID-F8B243D3-F7B4-4278-B262-283C521D600C__GUID-151D1C76-0643-46E8-8478-75CD2786C1E9">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="CONTINUE-statement.html#GUID-3ED7E5D5-E2D0-42D1-8A7F-97FFC7372775" title="CONTINUE语句有条件地或无条件地退出循环的当前迭代，并将控制转移到当前循环或封闭标记循环的下一次迭代。">继续声明</a> ”</span></p>
                     </div>
                     <div class="example" id="GUID-F8B243D3-F7B4-4278-B262-283C521D600C__BABHCHIG">
                        <p class="titleinexample">例4-13基本LOOP语句中的CONTINUE语句</p><pre class="oac_no_warn" dir="ltr">DECLARE
  x NUMBER := 0;
BEGIN
  <span class="bold">LOOP -- After CONTINUE statement, control resumes here</span>
    DBMS_OUTPUT.PUT_LINE ('Inside loop:  x = ' || TO_CHAR(x));
    x := x + 1;
    IF x &lt; 3 THEN
      <span class="bold">CONTINUE;</span>
    END IF;
    DBMS_OUTPUT.PUT_LINE
      ('Inside loop, after CONTINUE:  x = ' || TO_CHAR(x));
    EXIT WHEN x = 5;
  END LOOP;
 
  DBMS_OUTPUT.PUT_LINE (' After loop:  x = ' || TO_CHAR(x));
END;
/
 </pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">Inside loop:  x = 0
Inside loop:  x = 1
Inside loop:  x = 2
Inside loop, after CONTINUE:  x = 3
Inside loop:  x = 3
Inside loop, after CONTINUE:  x = 4
Inside loop:  x = 4
Inside loop, after CONTINUE:  x = 5
After loop:  x = 5</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNPLS337"></a><a id="LNPLS406"></a><div class="props_rev_3"><a id="GUID-A8E7FBAC-FA6D-4B74-B8FB-CCB73E6C88A8" name="GUID-A8E7FBAC-FA6D-4B74-B8FB-CCB73E6C88A8"></a><h4 id="LNPLS-GUID-A8E7FBAC-FA6D-4B74-B8FB-CCB73E6C88A8" class="sect4"><span class="enumeration_section">4.2.5</span>继续发表声明</h4>
                  <div>
                     <p><code class="codeph">WHEN</code> <code class="codeph">WHEN</code>子句中的条件为真时， <code class="codeph">CONTINUE</code> <code class="codeph">WHEN</code>语句退出循环的当前迭代，并将控制转移到当前循环或封闭标记循环的下一次迭代。
                     </p>
                     <p>每次控件到达<code class="codeph">CONTINUE</code> <code class="codeph">WHEN</code>语句时，都会评估其<code class="codeph">WHEN</code>子句中的条件。如果条件不为真，则<code class="codeph">CONTINUE</code> <code class="codeph">WHEN</code>语句不执行任何操作。
                     </p>
                     <p>在<a href="plsql-control-statements.html#GUID-A8E7FBAC-FA6D-4B74-B8FB-CCB73E6C88A8__BABHGEDC">例4-14中</a> ，当<code class="codeph">x</code>小于3时，基本<code class="codeph">LOOP</code>语句中的<code class="codeph">CONTINUE</code> <code class="codeph">WHEN</code>语句将控制转移到当前循环的下一次迭代。<a href="plsql-control-statements.html#GUID-A8E7FBAC-FA6D-4B74-B8FB-CCB73E6C88A8__BABHGEDC">实施例4-14</a>在逻辑上等同于<a href="plsql-control-statements.html#GUID-F8B243D3-F7B4-4278-B262-283C521D600C__BABHCHIG">实施例4-13</a> 。
                     </p>
                     <div class="infoboxnotealso" id="GUID-A8E7FBAC-FA6D-4B74-B8FB-CCB73E6C88A8__GUID-441C338D-2F7D-4C2A-AD06-F28A4F4730E9">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="CONTINUE-statement.html#GUID-3ED7E5D5-E2D0-42D1-8A7F-97FFC7372775" title="CONTINUE语句有条件地或无条件地退出循环的当前迭代，并将控制转移到当前循环或封闭标记循环的下一次迭代。">继续声明</a> ”</span></p>
                     </div>
                     <div class="example" id="GUID-A8E7FBAC-FA6D-4B74-B8FB-CCB73E6C88A8__BABHGEDC">
                        <p class="titleinexample">示例4-14 CONTINUE WHEN语句在基本LOOP语句中</p><pre class="oac_no_warn" dir="ltr">DECLARE
  x NUMBER := 0;
BEGIN
  <span class="bold">LOOP -- After CONTINUE statement, control resumes here</span>
    DBMS_OUTPUT.PUT_LINE ('Inside loop:  x = ' || TO_CHAR(x));
    x := x + 1;
    <span class="bold">CONTINUE WHEN x &lt; 3;</span>
    DBMS_OUTPUT.PUT_LINE
      ('Inside loop, after CONTINUE:  x = ' || TO_CHAR(x));
    EXIT WHEN x = 5;
  END LOOP;
  DBMS_OUTPUT.PUT_LINE (' After loop:  x = ' || TO_CHAR(x));
END;
/
 </pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">Inside loop:  x = 0
Inside loop:  x = 1
Inside loop:  x = 2
Inside loop, after CONTINUE:  x = 3
Inside loop:  x = 3
Inside loop, after CONTINUE:  x = 4
Inside loop:  x = 4
Inside loop, after CONTINUE:  x = 5
After loop:  x = 5</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNPLS338"></a><a id="LNPLS412"></a><a id="LNPLS413"></a><a id="LNPLS416"></a><a id="LNPLS411"></a><div class="props_rev_3"><a id="GUID-C4BC9960-5945-4646-BBDE-DC00346F8702" name="GUID-C4BC9960-5945-4646-BBDE-DC00346F8702"></a><h4 id="LNPLS-GUID-C4BC9960-5945-4646-BBDE-DC00346F8702" class="sect4"><span class="enumeration_section">4.2.6</span> FOR LOOP声明</h4>
                  <div>
                     <p><code class="codeph">FOR</code>循环索引在指定范围内时， <code class="codeph">FOR</code> <code class="codeph">LOOP</code>语句运行一个或多个语句。该声明具有以下结构：</p><pre class="oac_no_warn" dir="ltr">[ <span class="italic">label</span> ] FOR <span class="italic">index</span> IN [ REVERSE ] <span class="italic">lower_bound</span>..<span class="italic">upper_bound</span> LOOP
  <span class="italic">statements</span>
END LOOP [ <span class="italic">label</span> ];
</pre><p>如果没有<code class="codeph">REVERSE</code> ， <span class="italic"><code class="codeph">index</code></span>的值从<span class="italic"><code class="codeph">lower_bound</code></span>开始，并在循环的每次迭代中增加1，直到达到<span class="italic"><code class="codeph">upper_bound</code></span> 。如果<span class="italic"><code class="codeph">lower_bound</code></span>大于<span class="italic"><code class="codeph">upper_bound</code></span> ，则<span class="italic"><code class="codeph">statements</code></span>永远不会运行。
                     </p>
                     <p>使用<code class="codeph">REVERSE</code> ， <span class="italic"><code class="codeph">index</code></span>的值从<span class="italic"><code class="codeph">upper_bound</code></span>开始，并在循环的每次迭代中减1，直到达到<span class="italic"><code class="codeph">lower_bound</code></span> 。如果<span class="italic"><code class="codeph">upper_bound</code></span>小于<span class="italic"><code class="codeph">lower_bound</code></span> ，则<span class="italic"><code class="codeph">statements</code></span>永远不会运行。
                     </p>
                     <p>一个<code class="codeph">EXIT</code> ， <code class="codeph">EXIT</code> <code class="codeph">WHEN</code> ， <code class="codeph">CONTINUE</code> ，或<code class="codeph">CONTINUE</code> <code class="codeph">WHEN</code>在<span class="italic"><code class="codeph">statements</code></span>会导致环或环提前结束的当前迭代。
                     </p>
                     <div class="infobox-tip" id="GUID-C4BC9960-5945-4646-BBDE-DC00346F8702__GUID-25A53531-675D-459A-B9F5-D85717EE85BD">
                        <p class="notep1">小费：</p>
                        <p>要处理查询结果集的行，请使用游标<code class="codeph">FOR</code> <code class="codeph">LOOP</code> ，它具有查询而不是整数范围。有关详细信息，请参阅<span class="q">“ <a href="static-sql.html#GUID-25917214-FD91-499D-AB39-CE21484AB167" title="游标FOR LOOP语句允许您运行SELECT语句，然后立即循环遍历结果集的行。">使用光标处理查询结果集以获取LOOP语句</a> ”</span> 。
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-C4BC9960-5945-4646-BBDE-DC00346F8702__GUID-58E2F9E5-5A52-466F-B4F2-5C69925405C6">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="FOR-LOOP-statement.html#GUID-D00F8F0B-ECFC-48B6-B399-D8B5114E7E21" title="随着FOR LOOP语句的每次迭代，其语句运行，其索引递增或递减，并且控制返回到循环的顶部。FOR LOOP语句在其索引达到指定值时结束，或者当循环内的语句将控制转移到循环外或引发异常时结束。">FOR LOOP声明</a> ”</span></p>
                     </div>
                     <p>在<a href="plsql-control-statements.html#GUID-C4BC9960-5945-4646-BBDE-DC00346F8702__BABEFFDC">例4-15中</a> ， <span class="italic"><code class="codeph">index</code></span>是<code class="codeph">i</code> ， <span class="italic"><code class="codeph">lower_bound</code></span>是1， <span class="italic"><code class="codeph">upper_bound</code></span>是3。循环打印从1到3的数字。
                     </p>
                     <p>在<code class="codeph">FOR</code> <code class="codeph">LOOP</code>中陈述<a href="plsql-control-statements.html#GUID-C4BC9960-5945-4646-BBDE-DC00346F8702__BABGDDBJ">实施例4-16</a>是在一个的反向<a href="plsql-control-statements.html#GUID-C4BC9960-5945-4646-BBDE-DC00346F8702__BABEFFDC">实施例4-15</a> ：它输出数为3〜1。
                     </p>
                     <p>在某些语言中， <code class="codeph">FOR</code> <code class="codeph">LOOP</code>有一个<code class="codeph">STEP</code>子句，允许您指定不是1的循环索引增量。要模拟PL / SQL中的<code class="codeph">STEP</code>子句，请将每个对循环索引的引用乘以所需的增量。
                     </p>
                     <p>在<a href="plsql-control-statements.html#GUID-C4BC9960-5945-4646-BBDE-DC00346F8702__BCGJHACI">例4-17中</a> ， <code class="codeph">FOR</code> <code class="codeph">LOOP</code>有效地将索引增加5。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C4BC9960-5945-4646-BBDE-DC00346F8702__GUID-2FB71E55-467D-4F49-85E8-7376DFC6A08F">话题</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="plsql-control-statements.html#GUID-7E1AC17C-83EB-422C-98F4-2F13D9B694F4">FOR LOOP指数</a></p>
                           </li>
                           <li>
                              <p><a href="plsql-control-statements.html#GUID-BA742E83-3477-41D7-BD0A-EC80A603C941">下界和上界</a></p>
                           </li>
                           <li>
                              <p><a href="plsql-control-statements.html#GUID-A2EBEED5-117D-41A2-99BC-7031EBB5D6D1">FOR LOOP声明中的声明何时退出或继续</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C4BC9960-5945-4646-BBDE-DC00346F8702__BABEFFDC">
                        <p class="titleinexample">例4-15 FOR LOOP语句</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_OUTPUT.PUT_LINE ('lower_bound &lt; upper_bound');
 
  FOR i IN 1..3 LOOP
    DBMS_OUTPUT.PUT_LINE (i);
  END LOOP;
 
  DBMS_OUTPUT.PUT_LINE ('lower_bound = upper_bound');
 
  FOR i IN 2..2 LOOP
    DBMS_OUTPUT.PUT_LINE (i);
  END LOOP;
 
  DBMS_OUTPUT.PUT_LINE ('lower_bound &gt; upper_bound');
 
  FOR i IN 3..1 LOOP
    DBMS_OUTPUT.PUT_LINE (i);
  END LOOP;
END;
/
</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">lower_bound &lt; upper_bound
1
2
3
lower_bound = upper_bound
2
lower_bound &gt; upper_bound
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-C4BC9960-5945-4646-BBDE-DC00346F8702__BABGDDBJ">
                        <p class="titleinexample">例4-16反向LOOP语句</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_OUTPUT.PUT_LINE ('upper_bound &gt; lower_bound');
 
  FOR i IN REVERSE 1..3 LOOP
    DBMS_OUTPUT.PUT_LINE (i);
  END LOOP;
 
  DBMS_OUTPUT.PUT_LINE ('upper_bound = lower_bound');
 
  FOR i IN REVERSE 2..2 LOOP
    DBMS_OUTPUT.PUT_LINE (i);
  END LOOP;
 
  DBMS_OUTPUT.PUT_LINE ('upper_bound &lt; lower_bound');
 
  FOR i IN REVERSE 3..1 LOOP
    DBMS_OUTPUT.PUT_LINE (i);
  END LOOP;
END;
/
 </pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">upper_bound &gt; lower_bound
3
2
1
upper_bound = lower_bound
2
upper_bound &lt; lower_bound
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-C4BC9960-5945-4646-BBDE-DC00346F8702__BCGJHACI">
                        <p class="titleinexample">例4-17在FOR LOOP语句中模拟STEP子句</p><pre class="oac_no_warn" dir="ltr">DECLARE
  <span class="bold">step  PLS_INTEGER := 5;</span>
BEGIN
  FOR i IN 1..3 LOOP
    DBMS_OUTPUT.PUT_LINE (<span class="bold">i*step</span>);
  END LOOP;
END;
/
</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">5
10
15</pre></div>
                     <!-- class="example" -->
                  </div><a id="LNPLS339"></a><a id="LNPLS421"></a><a id="LNPLS422"></a><a id="LNPLS423"></a><a id="LNPLS424"></a><a id="LNPLS420"></a><div class="props_rev_3"><a id="GUID-7E1AC17C-83EB-422C-98F4-2F13D9B694F4" name="GUID-7E1AC17C-83EB-422C-98F4-2F13D9B694F4"></a><h5 id="LNPLS-GUID-7E1AC17C-83EB-422C-98F4-2F13D9B694F4" class="sect5"><span class="enumeration_section">4.2.6.1</span> FOR LOOP索引</h5>
                     <div>
                        <p><code class="codeph">FOR</code> <code class="codeph">LOOP</code>语句的索引被隐式声明为<code class="codeph">PLS_INTEGER</code>类型的变量，该变量是循环的本地变量。循环中的语句可以读取索引的值，但不能更改它。循环外的语句不能引用索引。运行<code class="codeph">FOR</code> <code class="codeph">LOOP</code>语句后，索引未定义。（循环索引有时称为循环计数器。）
                        </p>
                        <p>在<a href="plsql-control-statements.html#GUID-7E1AC17C-83EB-422C-98F4-2F13D9B694F4__BABEAEFI">示例4-18中</a> ， <code class="codeph">FOR</code> <code class="codeph">LOOP</code>语句尝试更改其索引的值，从而导致错误。
                        </p>
                        <p>在<a href="plsql-control-statements.html#GUID-7E1AC17C-83EB-422C-98F4-2F13D9B694F4__CJAGHDEI">例4-19中</a> ， <code class="codeph">FOR</code> <code class="codeph">LOOP</code>语句之外的语句引用循环索引，从而导致错误。
                        </p>
                        <p>如果<code class="codeph">FOR</code> <code class="codeph">LOOP</code>语句的索引与封闭块中声明的变量具有相同的名称，则本地隐式声明会隐藏另一个声明，如<a href="plsql-control-statements.html#GUID-7E1AC17C-83EB-422C-98F4-2F13D9B694F4__CJAHEEJE">示例4-20</a>所示。
                        </p>
                        <p><a href="plsql-control-statements.html#GUID-7E1AC17C-83EB-422C-98F4-2F13D9B694F4__BABIIIDH">例4-21</a>显示了如何更改<a href="plsql-control-statements.html#GUID-7E1AC17C-83EB-422C-98F4-2F13D9B694F4__CJAHEEJE">例4-20</a>以允许循环内的语句引用封闭块中声明的变量。
                        </p>
                        <p>在<a href="plsql-control-statements.html#GUID-7E1AC17C-83EB-422C-98F4-2F13D9B694F4__BABIFDBA">例4-22中</a> ，嵌套的<code class="codeph">FOR</code> <code class="codeph">LOOP</code>语句的索引具有相同的名称。内部循环通过使用外部循环的标签限定引用来引用外部循环的索引。仅为了清楚起见，内部循环还使用其自己的标签限定对其自己的索引的引用。
                        </p>
                        <div class="example" id="GUID-7E1AC17C-83EB-422C-98F4-2F13D9B694F4__BABEAEFI">
                           <p class="titleinexample">示例4-18 FOR LOOP语句尝试更改索引值</p><pre class="oac_no_warn" dir="ltr">BEGIN
  FOR <span class="bold">i</span> IN 1..3 LOOP
    IF i &lt; 3 THEN
      DBMS_OUTPUT.PUT_LINE (TO_CHAR(i));
    ELSE
      <span class="bold">i := 2;</span>
    END IF;
  END LOOP;
END;
/
 </pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">       <span class="bold">i := 2;</span>
       <span class="bold">*</span>
<span class="bold">ERROR at line 6:</span>
<span class="bold">ORA-06550: line 6, column 8:</span>
<span class="bold">PLS-00363: expression 'I' cannot be used as an assignment target</span>
ORA-06550: line 6, column 8:
PL/SQL: Statement ignored
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-7E1AC17C-83EB-422C-98F4-2F13D9B694F4__CJAGHDEI">
                           <p class="titleinexample">例4-19 LOOP语句索引的外部语句参考</p><pre class="oac_no_warn" dir="ltr">BEGIN
  FOR <span class="bold">i</span> IN 1..3 LOOP
    DBMS_OUTPUT.PUT_LINE ('Inside loop, i is ' || TO_CHAR(i));
  END LOOP;
  
  DBMS_OUTPUT.PUT_LINE ('Outside loop, i is ' || TO_CHAR(<span class="bold">i</span>));
END;
/
 </pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">  DBMS_OUTPUT.PUT_LINE ('Outside loop, i is ' || TO_CHAR(i));
                                                         *
ERROR at line 6:
ORA-06550: line 6, column 58:
PLS-00201: identifier 'I' must be declared
ORA-06550: line 6, column 3:
PL/SQL: Statement ignored
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-7E1AC17C-83EB-422C-98F4-2F13D9B694F4__CJAHEEJE">
                           <p class="titleinexample">示例4-20 FOR LOOP语句索引，其名称与变量相同</p><pre class="oac_no_warn" dir="ltr">DECLARE
  <span class="bold">i</span> NUMBER := 5;
BEGIN
  FOR <span class="bold">i</span> IN 1..3 LOOP
    DBMS_OUTPUT.PUT_LINE ('Inside loop, i is ' || TO_CHAR(<span class="bold">i</span>));
  END LOOP;
  
  DBMS_OUTPUT.PUT_LINE ('Outside loop, i is ' || TO_CHAR(<span class="bold">i</span>));
END;
/
 </pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">Inside loop, i is 1
Inside loop, i is 2
Inside loop, i is 3
Outside loop, i is 5
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-7E1AC17C-83EB-422C-98F4-2F13D9B694F4__BABIIIDH">
                           <p class="titleinexample">示例4-21 FOR LOOP语句引用与索引名称相同的变量</p><pre class="oac_no_warn" dir="ltr"><span class="bold">&lt;&lt;main&gt;&gt;  -- Label block.</span>
DECLARE
  i NUMBER := 5;
BEGIN
  FOR i IN 1..3 LOOP
    DBMS_OUTPUT.PUT_LINE (
      'local: ' || TO_CHAR(i) || ', global: ' ||
      TO_CHAR(<span class="bold">main.i</span>)  <span class="bold">-- Qualify reference with block label.</span>
    );
  END LOOP;
END main;
/
 </pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">local: 1, global: 5
local: 2, global: 5
local: 3, global: 5
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-7E1AC17C-83EB-422C-98F4-2F13D9B694F4__BABIFDBA">
                           <p class="titleinexample">示例4-22具有相同索引名称的嵌套FOR LOOP语句</p><pre class="oac_no_warn" dir="ltr">BEGIN
  <span class="bold">&lt;&lt;outer_loop&gt;&gt;</span>
  FOR i IN 1..3 LOOP
    <span class="bold">&lt;&lt;inner_loop&gt;&gt;</span>
    FOR i IN 1..3 LOOP
      IF <span class="bold">outer_loop.i</span> = 2 THEN
        DBMS_OUTPUT.PUT_LINE
          ('outer: ' || TO_CHAR(<span class="bold">outer_loop.i</span>) || ' inner: '
           || TO_CHAR(<span class="bold">inner_loop.i</span>));
      END IF;
    END LOOP inner_loop;
  END LOOP outer_loop;
END;
/
 </pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">outer: 2 inner: 1
outer: 2 inner: 2
outer: 2 inner: 3</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="LNPLS415"></a><a id="LNPLS418"></a><a id="LNPLS414"></a><div class="props_rev_3"><a id="GUID-BA742E83-3477-41D7-BD0A-EC80A603C941" name="GUID-BA742E83-3477-41D7-BD0A-EC80A603C941"></a><h5 id="LNPLS-GUID-BA742E83-3477-41D7-BD0A-EC80A603C941" class="sect5"><span class="enumeration_section">4.2.6.2</span>下界和上界</h5>
                     <div>
                        <p><code class="codeph">FOR</code> <code class="codeph">LOOP</code>语句的下限和上限可以是数字文字，数字变量或数字表达式。如果绑定没有数值，则PL / SQL会引发预定义的异常<code class="codeph">VALUE_ERROR</code> 。</p>
                        <p>在<a href="plsql-control-statements.html#GUID-BA742E83-3477-41D7-BD0A-EC80A603C941__BABCGEIF">例4-24中</a> ， <code class="codeph">FOR</code> <code class="codeph">LOOP</code>语句的上限是一个变量，其值在运行时确定。
                        </p>
                        <div class="example" id="GUID-BA742E83-3477-41D7-BD0A-EC80A603C941__BABGFABI">
                           <p class="titleinexample">例4-23 FOR LOOP语句边界</p><pre class="oac_no_warn" dir="ltr">DECLARE
  first  INTEGER := 1;
  last   INTEGER := 10;
  high   INTEGER := 100;
  low    INTEGER := 12;
BEGIN
  <span class="bold">-- Bounds are numeric literals:</span>
  FOR j IN -5..5 LOOP
    NULL;
  END LOOP;
 
  <span class="bold">-- Bounds are numeric variables:</span>
  FOR k IN REVERSE first..last LOOP
    NULL;
  END LOOP;
 
 <span class="bold">-- Lower bound is numeric literal,</span>
 <span class="bold">-- Upper bound is numeric expression:</span>
  FOR step IN 0..(TRUNC(high/low) * 2) LOOP
    NULL;
  END LOOP;
END;
/
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-BA742E83-3477-41D7-BD0A-EC80A603C941__BABCGEIF">
                           <p class="titleinexample">示例4-24在运行时指定FOR LOOP语句边界</p><pre class="oac_no_warn" dir="ltr">DROP TABLE temp;
CREATE TABLE temp (
  emp_no      NUMBER,
  email_addr  VARCHAR2(50)
);
 
DECLARE
  emp_count  NUMBER;
BEGIN
  <span class="bold">SELECT COUNT(employee_id) INTO emp_count</span>
  FROM employees;
  
  <span class="bold">FOR i IN 1..emp_count LOOP</span>
    INSERT INTO temp (emp_no, email_addr)
    VALUES(i, 'to be added later');
  END LOOP;
END;
/</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="LNPLS340"></a><a id="LNPLS341"></a><a id="LNPLS342"></a><a id="LNPLS425"></a><div class="props_rev_3"><a id="GUID-A2EBEED5-117D-41A2-99BC-7031EBB5D6D1" name="GUID-A2EBEED5-117D-41A2-99BC-7031EBB5D6D1"></a><h5 id="LNPLS-GUID-A2EBEED5-117D-41A2-99BC-7031EBB5D6D1" class="sect5"><span class="enumeration_section">4.2.6.3</span> FOR LOOP声明中的声明何时退出或继续</h5>
                     <div>
                        <p>假设如果出现某种情况，您必须立即退出<code class="codeph">FOR</code> <code class="codeph">LOOP</code>语句。您可以将条件放在<code class="codeph">FOR</code> <code class="codeph">LOOP</code>语句内的<code class="codeph">EXIT</code> <code class="codeph">WHEN</code>语句中。
                        </p>
                        <p>在<a href="plsql-control-statements.html#GUID-A2EBEED5-117D-41A2-99BC-7031EBB5D6D1__CIHGGFCG">例4-25中</a> ， <code class="codeph">FOR</code> <code class="codeph">LOOP</code>语句执行10次，除非其中的<code class="codeph">FETCH</code>语句未能返回一行，在这种情况下它立即结束。
                        </p>
                        <p>现在假设您必须提前退出的<code class="codeph">FOR</code> <code class="codeph">LOOP</code>语句嵌套在另一个<code class="codeph">FOR</code> <code class="codeph">LOOP</code>语句中。如果，当您提前退出内部循环时，您还想退出外部循环，然后标记外部循环并在<code class="codeph">EXIT</code> <code class="codeph">WHEN</code>语句中指定其名称，如<a href="plsql-control-statements.html#GUID-A2EBEED5-117D-41A2-99BC-7031EBB5D6D1__CIHBBDBF">例4-26所示</a> 。
                        </p>
                        <p>如果要提前退出内部循环但完成外部循环的当前迭代，则标记外部循环并在<code class="codeph">CONTINUE</code> <code class="codeph">WHEN</code>语句中指定其名称，如<a href="plsql-control-statements.html#GUID-A2EBEED5-117D-41A2-99BC-7031EBB5D6D1__CIHJDJIA">例4-27所示</a> 。
                        </p>
                        <div class="infoboxnotealso" id="GUID-A2EBEED5-117D-41A2-99BC-7031EBB5D6D1__GUID-B86D976F-3684-464A-A91A-D7230F4B6A03">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="plsql-error-handling.html#GUID-343E0653-9BCE-48F5-A00A-795D77B96B44">异常处理概述</a> ”</span>有关异常的信息，如果出现某种情况，也可能导致循环立即结束</p>
                        </div>
                        <div class="example" id="GUID-A2EBEED5-117D-41A2-99BC-7031EBB5D6D1__CIHGGFCG">
                           <p class="titleinexample">示例4-25在FOR LOOP语句中退出WHEN语句</p><pre class="oac_no_warn" dir="ltr">DECLARE
  v_employees employees%ROWTYPE;
  CURSOR c1 is SELECT * FROM employees;
BEGIN
  OPEN c1;
  -- Fetch entire row into v_employees record:
  FOR i IN 1..10 LOOP
    FETCH c1 INTO v_employees;
    <span class="bold">EXIT WHEN c1%NOTFOUND;</span>
    -- Process data here
  END LOOP;
  CLOSE c1;
END;
/
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-A2EBEED5-117D-41A2-99BC-7031EBB5D6D1__CIHBBDBF">
                           <p class="titleinexample">例4-26在内部FOR LOOP语句中退出WHEN WHEN语句</p><pre class="oac_no_warn" dir="ltr">DECLARE
  v_employees employees%ROWTYPE;
  CURSOR c1 is SELECT * FROM employees;
BEGIN
  OPEN c1;
  
  -- Fetch entire row into v_employees record:
  <span class="bold">&lt;&lt;outer_loop&gt;&gt;</span>
  FOR i IN 1..10 LOOP
    -- Process data here
    FOR j IN 1..10 LOOP
      FETCH c1 INTO v_employees;
      <span class="bold">EXIT outer_loop WHEN c1%NOTFOUND;</span>
      -- Process data here
    END LOOP;
  END LOOP outer_loop;
 
  CLOSE c1;
END;
/</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-A2EBEED5-117D-41A2-99BC-7031EBB5D6D1__CIHJDJIA">
                           <p class="titleinexample">例4-27 CONT FORUE WHEN语句在内部FOR LOOP语句中</p><pre class="oac_no_warn" dir="ltr">DECLARE
  v_employees employees%ROWTYPE;
  CURSOR c1 is SELECT * FROM employees;
BEGIN
  OPEN c1;
  
  -- Fetch entire row into v_employees record:
  <span class="bold">&lt;&lt;outer_loop&gt;&gt;</span>
  FOR i IN 1..10 LOOP
    -- Process data here
    FOR j IN 1..10 LOOP
      FETCH c1 INTO v_employees;
      <span class="bold">CONTINUE outer_loop WHEN c1%NOTFOUND;</span>
      -- Process data here
    END LOOP;
  END LOOP outer_loop;
 
  CLOSE c1;
END;
/</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="LNPLS343"></a><a id="LNPLS410"></a><div class="props_rev_3"><a id="GUID-3F69F563-BCAE-4D3E-8E03-F53C8D64D093" name="GUID-3F69F563-BCAE-4D3E-8E03-F53C8D64D093"></a><h4 id="LNPLS-GUID-3F69F563-BCAE-4D3E-8E03-F53C8D64D093" class="sect4"><span class="enumeration_section">4.2.7</span> WHILE LOOP声明</h4>
                  <div>
                     <p><code class="codeph">WHILE</code> <code class="codeph">LOOP</code>语句在条件为真时运行一个或多个语句。它有这样的结构：</p><pre class="oac_no_warn" dir="ltr">[ <span class="italic">label</span> ] WHILE <span class="italic">condition</span> LOOP
  <span class="italic">statements</span>
END LOOP [ <span class="italic">label</span> ];
</pre><p>如果<span class="italic"><code class="codeph">condition</code></span>为真，则<span class="italic"><code class="codeph">statements</code></span>运行并且控制返回到循环的顶部，其中再次评估<span class="italic"><code class="codeph">condition</code></span> 。如果<span class="italic"><code class="codeph">condition</code></span>不为真，则控制转移到<code class="codeph">WHILE</code> <code class="codeph">LOOP</code>语句之后的语句。为了防止无限循环，循环内的语句必须使条件为false或null。有关完整语法，请参阅<span class="q">“ <a href="WHILE-LOOP-statement.html#GUID-9339C3AD-7F41-4D3F-9B2D-6FC5DCE44C6B" title="WHILE LOOP语句在条件为TRUE时运行一个或多个语句。 WHILE LOOP语句在条件变为FALSE或NULL时结束，或者当循环内的语句将控制转移到循环外或引发异常时结束。">WHILE LOOP语句</a> ”</span> 。
                     </p>
                     <p>一个<code class="codeph">EXIT</code> ， <code class="codeph">EXIT</code> <code class="codeph">WHEN</code> ， <code class="codeph">CONTINUE</code> ，或<code class="codeph">CONTINUE</code> <code class="codeph">WHEN</code>在<span class="italic"><code class="codeph">statements</code></span>会导致环或环提前结束的当前迭代。
                     </p>
                     <p>有些语言有一个<code class="codeph">LOOP</code> <code class="codeph">UNTIL</code>或<code class="codeph">REPEAT</code> <code class="codeph">UNTIL</code>结构，它测试循环底部而不是顶部的条件，这样语句至少运行一次。要在PL / SQL中模拟此结构，请使用带有<code class="codeph">EXIT</code> <code class="codeph">WHEN</code>语句的基本<code class="codeph">LOOP</code>语句：</p><pre class="oac_no_warn" dir="ltr">LOOP
  <span class="italic">statements</span>
  EXIT WHEN <span class="italic">condition</span>;
END LOOP;</pre><p>在<a href="plsql-control-statements.html#GUID-3F69F563-BCAE-4D3E-8E03-F53C8D64D093__BABGGBCJ">例4-28中</a> ，第一个<code class="codeph">WHILE</code> <code class="codeph">LOOP</code>语句中的语句永远不会运行，第二个<code class="codeph">WHILE</code> <code class="codeph">LOOP</code>语句中的语句只运行一次。
                     </p>
                     <div class="example" id="GUID-3F69F563-BCAE-4D3E-8E03-F53C8D64D093__BABGGBCJ">
                        <p class="titleinexample">例4-28 WHILE LOOP语句</p><pre class="oac_no_warn" dir="ltr">DECLARE
  done  BOOLEAN := FALSE;
BEGIN
  WHILE done LOOP
    DBMS_OUTPUT.PUT_LINE ('This line does not print.');
    done := TRUE;  -- This assignment is not made.
  END LOOP;

  WHILE NOT done LOOP
    DBMS_OUTPUT.PUT_LINE ('Hello, world!');
    done := TRUE;
  END LOOP;
END;
/
</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">Hello, world!
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="LNPLS344"></a><a id="LNPLS00404"></a><div class="props_rev_3"><a id="GUID-7CA9E984-CCB3-4DB8-8D0C-30BF0C74BA83" name="GUID-7CA9E984-CCB3-4DB8-8D0C-30BF0C74BA83"></a><h3 id="LNPLS-GUID-7CA9E984-CCB3-4DB8-8D0C-30BF0C74BA83" class="sect3"><span class="enumeration_section">4.3</span>顺序控制声明</h3>
               <div>
                  <p>与<code class="codeph">IF</code>和<code class="codeph">LOOP</code>语句不同， <span class="bold">顺序控制语句</span> <code class="codeph">GOTO</code>和<code class="codeph">NULL</code>对PL / SQL编程并不重要。
                  </p>
                  <p><code class="codeph">GOTO</code>指定语句的<code class="codeph">GOTO</code>语句很少需要。偶尔，它会简化逻辑以保证其使用。
                  </p>
                  <p><code class="codeph">NULL</code>语句不做任何事情，可以通过使条件语句的含义和操作清晰来提高可读性。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-7CA9E984-CCB3-4DB8-8D0C-30BF0C74BA83__GUID-110F508A-842F-4B4A-A234-FBE02AB8A808">话题</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="plsql-control-statements.html#GUID-7C14CDED-B86F-4496-A1F6-8C3B67E3B032">GOTO声明</a></p>
                        </li>
                        <li>
                           <p><a href="plsql-control-statements.html#GUID-FB72FFC2-4B55-45C9-BA38-57511913242F">NULL语句</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="LNPLS429"></a><a id="LNPLS430"></a><a id="LNPLS431"></a><a id="LNPLS432"></a><a id="LNPLS434"></a><a id="LNPLS428"></a><div class="props_rev_3"><a id="GUID-7C14CDED-B86F-4496-A1F6-8C3B67E3B032" name="GUID-7C14CDED-B86F-4496-A1F6-8C3B67E3B032"></a><h4 id="LNPLS-GUID-7C14CDED-B86F-4496-A1F6-8C3B67E3B032" class="sect4"><span class="enumeration_section">4.3.1</span> GOTO声明</h4>
                  <div>
                     <p><code class="codeph">GOTO</code>语句无条件地将控制转移到标签。标签的范围必须是唯一的，并且必须在可执行语句或PL / SQL块之前。运行时， <code class="codeph">GOTO</code>语句将控制转移到带标签的语句或块。有关<code class="codeph">GOTO</code>语句限制，请参阅<span class="q">“ <a href="GOTO-statement.html#GUID-89407985-3BA9-4508-9F1F-DE36878B4C89" title="GOTO语句将控制转移到带标签的块或语句。">GOTO语句</a> ”</span> 。
                     </p>
                     <p>谨慎使用<code class="codeph">GOTO</code>语句会过度使用它们导致难以理解和维护的代码。不要使用<code class="codeph">GOTO</code>语句将控件从深层嵌套结构转移到异常处理程序。相反，提出异常。有关PL / SQL异常处理机制的信息，请参阅<a href="plsql-error-handling.html#GUID-0502DC1A-F0A5-4180-A912-6A5CDC855F56" title="在编译存储的PL / SQL单元时，PL / SQL编译器会为不足以导致错误并阻止编译的条件生成警告 - 例如，使用不推荐的PL / SQL功能。">PL / SQL错误处理</a> 。
                     </p>
                     <p>标签只能出现在块之前（如<a href="plsql-control-statements.html#GUID-7E1AC17C-83EB-422C-98F4-2F13D9B694F4__BABIIIDH">例4-21所示</a> ）或声明之前（如<a href="plsql-control-statements.html#GUID-7C14CDED-B86F-4496-A1F6-8C3B67E3B032__BABDBCFF">例4-29所示</a> ），而不能出现在语句中，如<a href="plsql-control-statements.html#GUID-7C14CDED-B86F-4496-A1F6-8C3B67E3B032__CJAJGGAC">例4-30所示</a> 。
                     </p>
                     <p>要更正<a href="plsql-control-statements.html#GUID-7C14CDED-B86F-4496-A1F6-8C3B67E3B032__CJAJGGAC">示例4-30</a> ，请添加<code class="codeph">NULL</code>语句，如<a href="plsql-control-statements.html#GUID-7C14CDED-B86F-4496-A1F6-8C3B67E3B032__BCGFGDAA">例4-31所示</a> 。
                     </p>
                     <p><code class="codeph">GOTO</code>语句可以将控制权转移到当前块的封闭块，如<a href="plsql-control-statements.html#GUID-7C14CDED-B86F-4496-A1F6-8C3B67E3B032__BABEAEJI">例4-32所示</a> 。
                     </p>
                     <p><code class="codeph">GOTO</code>语句将控制转移到出现引用标签的第一个封闭块。
                     </p>
                     <p><a href="plsql-control-statements.html#GUID-7C14CDED-B86F-4496-A1F6-8C3B67E3B032__CJADEFJC">例4-33中</a>的<code class="codeph">GOTO</code>语句将控制转移到<code class="codeph">IF</code>语句中，从而导致错误。
                     </p>
                     <div class="example" id="GUID-7C14CDED-B86F-4496-A1F6-8C3B67E3B032__BABDBCFF">
                        <p class="titleinexample">例4-29 GOTO声明</p><pre class="oac_no_warn" dir="ltr">DECLARE
  p  VARCHAR2(30);
  n  PLS_INTEGER := 37;
BEGIN
  FOR j in 2..ROUND(SQRT(n)) LOOP
    IF n MOD j = 0 THEN
      p := ' is not a prime number';
      <span class="bold">GOTO print_now;</span>
    END IF;
  END LOOP;

  p := ' is a prime number';
 
  <span class="bold">&lt;&lt;print_now&gt;&gt;</span>
  DBMS_OUTPUT.PUT_LINE(TO_CHAR(n) || p);
END;
/
 </pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">37 is a prime number
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7C14CDED-B86F-4496-A1F6-8C3B67E3B032__CJAJGGAC">
                        <p class="titleinexample">示例4-30标签放置不正确</p><pre class="oac_no_warn" dir="ltr">DECLARE
  done  BOOLEAN;
BEGIN
  FOR i IN 1..50 LOOP
    IF done THEN
       GOTO end_loop;
    END IF;
    <span class="bold">&lt;&lt;end_loop&gt;&gt;</span>
  END LOOP;
END;
/
 </pre><p>结果：</p><pre class="oac_no_warn" dir="ltr"><span class="bold">  END LOOP;</span>
  <span class="bold">*</span>
<span class="bold">ERROR at line 9:</span>
<span class="bold">ORA-06550: line 9, column 3:</span>
<span class="bold">PLS-00103: Encountered the symbol "END" when expecting one of the following:</span>
( begin case declare exit for goto if loop mod null raise
return select update while with &lt;an identifier&gt;
&lt;a double-quoted delimited-identifier&gt; &lt;a bind variable&gt; &lt;&lt;
continue close current delete fetch lock insert open rollback
savepoint set sql run commit forall merge pipe purge
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7C14CDED-B86F-4496-A1F6-8C3B67E3B032__BCGFGDAA">
                        <p class="titleinexample">例4-31 GOTO语句转到Labeled NULL语句</p><pre class="oac_no_warn" dir="ltr">DECLARE
  done  BOOLEAN;
BEGIN
  FOR i IN 1..50 LOOP
    IF done THEN
      <span class="bold">GOTO end_loop;</span>
    END IF;
    <span class="bold">&lt;&lt;end_loop&gt;&gt;</span>
    <span class="bold">NULL;</span>
  END LOOP;
END;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7C14CDED-B86F-4496-A1F6-8C3B67E3B032__BABEAEJI">
                        <p class="titleinexample">例4-32 GOTO语句将控制转移到封闭块</p><pre class="oac_no_warn" dir="ltr">DECLARE
  v_last_name  VARCHAR2(25);
  v_emp_id     NUMBER(6) := 120;
BEGIN
  <span class="bold">&lt;&lt;get_name&gt;&gt;</span>
  SELECT last_name INTO v_last_name
  FROM employees
  WHERE employee_id = v_emp_id;
  
  BEGIN
    DBMS_OUTPUT.PUT_LINE (v_last_name);
    v_emp_id := v_emp_id + 5;
 
    IF v_emp_id &lt; 120 THEN
      <span class="bold">GOTO get_name;</span>
    END IF;
  END;
END;
/
 </pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">Weiss
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7C14CDED-B86F-4496-A1F6-8C3B67E3B032__CJADEFJC">
                        <p class="titleinexample">例4-33 GOTO语句无法将控制权转移到IF语句中</p><pre class="oac_no_warn" dir="ltr">DECLARE
  valid BOOLEAN := TRUE;
BEGIN
  <span class="bold">GOTO update_row;</span>
  
  IF valid THEN
  <span class="bold">&lt;&lt;update_row&gt;&gt;</span>
    NULL;
  END IF;
END;
/
 </pre><p>结果：</p><pre class="oac_no_warn" dir="ltr"><span class="bold">  GOTO update_row;</span>
  <span class="bold">*</span>
<span class="bold">ERROR at line 4:</span>
<span class="bold">ORA-06550: line 4, column 3:</span>
<span class="bold">PLS-00375: illegal GOTO statement; this GOTO cannot transfer control to label</span>
<span class="bold">'UPDATE_ROW'</span>
ORA-06550: line 6, column 12:
PL/SQL: Statement ignored</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="LNPLS436"></a><a id="LNPLS437"></a><a id="LNPLS438"></a><a id="LNPLS435"></a><div class="props_rev_3"><a id="GUID-FB72FFC2-4B55-45C9-BA38-57511913242F" name="GUID-FB72FFC2-4B55-45C9-BA38-57511913242F"></a><h4 id="LNPLS-GUID-FB72FFC2-4B55-45C9-BA38-57511913242F" class="sect4"><span class="enumeration_section">4.3.2</span> NULL语句</h4>
                  <div>
                     <p><code class="codeph">NULL</code>语句仅将控制权传递给下一个语句。有些语言将这样的指令称为无操作（无操作）。
                     </p>
                     <p><code class="codeph">NULL</code>语句的一些用途是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要为提供目标<code class="codeph">GOTO</code>语句，如<a href="plsql-control-statements.html#GUID-7C14CDED-B86F-4496-A1F6-8C3B67E3B032__BCGFGDAA">例4-31</a> 。
                           </p>
                        </li>
                        <li>
                           <p>通过明确条件语句的含义和操作来提高可读性，如<a href="plsql-control-statements.html#GUID-FB72FFC2-4B55-45C9-BA38-57511913242F__BCGFJJIG">例4-34所示</a></p>
                        </li>
                        <li>
                           <p>创建占位符和存根子程序，如<a href="plsql-control-statements.html#GUID-FB72FFC2-4B55-45C9-BA38-57511913242F__BABDHJDA">例4-35所示</a></p>
                        </li>
                        <li>
                           <p>要表明您已了解可能性，但不需要采取任何措施，如<a href="plsql-control-statements.html#GUID-FB72FFC2-4B55-45C9-BA38-57511913242F__CJAFFFAB">例4-36所示</a></p>
                        </li>
                     </ul>
                     <p>在<a href="plsql-control-statements.html#GUID-FB72FFC2-4B55-45C9-BA38-57511913242F__BCGFJJIG">示例4-34中</a> ， <code class="codeph">NULL</code>语句强调只有销售人员才能收到佣金。
                     </p>
                     <p>在<a href="plsql-control-statements.html#GUID-FB72FFC2-4B55-45C9-BA38-57511913242F__BABDHJDA">例4-35中</a> ， <code class="codeph">NULL</code>语句允许您编译此子程序并稍后填充实体。
                     </p>
                     <div class="infoboxnote" id="GUID-FB72FFC2-4B55-45C9-BA38-57511913242F__GUID-4F9D1C24-8524-47BD-9ED0-EEDED4C3574B">
                        <p class="notep1">注意：</p>
                        <p>如果启用了警告，则使用<code class="codeph">NULL</code>语句可能会引发<code class="codeph">unreachable</code> <code class="codeph">code</code>警告。有关警告的信息，请参阅<span class="q">“ <a href="plsql-error-handling.html#GUID-3311B813-3185-4751-A3A6-309B93973366" title="在编译存储的PL / SQL单元时，PL / SQL编译器会为不足以导致错误并阻止编译的条件生成警告 - 例如，使用不推荐的PL / SQL功能。">编译时警告</a> ”</span> 。
                        </p>
                     </div>
                     <p>在<a href="plsql-control-statements.html#GUID-FB72FFC2-4B55-45C9-BA38-57511913242F__CJAFFFAB">例4-36中</a> ， <code class="codeph">NULL</code>语句显示您已选择对A，B，C，D和F以外的等级不采取任何操作。</p>
                     <div class="example" id="GUID-FB72FFC2-4B55-45C9-BA38-57511913242F__BCGFJJIG">
                        <p class="titleinexample">示例4-34 NULL语句显示无操作</p><pre class="oac_no_warn" dir="ltr">DECLARE
  v_job_id  VARCHAR2(10);
   v_emp_id  NUMBER(6) := 110;
BEGIN
  SELECT job_id INTO v_job_id
  FROM employees
  WHERE employee_id = v_emp_id;
  
  IF v_job_id = 'SA_REP' THEN
    UPDATE employees
    SET commission_pct = commission_pct * 1.2;
  ELSE
    <span class="bold">NULL;  -- Employee is not a sales rep</span>
  END IF;
END;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-FB72FFC2-4B55-45C9-BA38-57511913242F__BABDHJDA">
                        <p class="titleinexample">示例4-35在子程序创建期间将NULL语句用作占位符</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE award_bonus (
  emp_id NUMBER,
  bonus NUMBER
) AUTHID DEFINER AS
BEGIN    -- Executable part starts here
  <span class="bold">NULL;  -- Placeholder</span>
  <span class="bold">-- (raises "unreachable code" if warnings enabled</span>)
END award_bonus;
/
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-FB72FFC2-4B55-45C9-BA38-57511913242F__CJAFFFAB">
                        <p class="titleinexample">例4-36简单CASE语句的ELSE子句中的NULL语句</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE print_grade (
  grade CHAR
) AUTHID DEFINER AS
BEGIN
  CASE grade
    WHEN 'A' THEN DBMS_OUTPUT.PUT_LINE('Excellent');
    WHEN 'B' THEN DBMS_OUTPUT.PUT_LINE('Very Good');
    WHEN 'C' THEN DBMS_OUTPUT.PUT_LINE('Good');
    WHEN 'D' THEN DBMS_OUTPUT.PUT_LINE('Fair');
    WHEN 'F' THEN DBMS_OUTPUT.PUT_LINE('Poor');
    <span class="bold">ELSE NULL;</span>
  END CASE;
END;
/
BEGIN
  print_grade('A');
  print_grade('S');
END;
/</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">Excellent</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>