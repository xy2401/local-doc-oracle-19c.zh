<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This appendix is for advanced users who need to administer the routing engine. It is not intended for most routing users.">
      <meta name="description" content="This appendix is for advanced users who need to administer the routing engine. It is not intended for most routing users.">
      <title>路由引擎管理</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer&#39;s Guide ">
      <meta property="og:description" content="This appendix is for advanced users who need to administer the routing engine. It is not intended for most routing users.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer&#39;s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="spatial-and-graph-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T14:11:51-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94799-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="esri-shapefiles.html" title="Previous" type="text/html">
      <link rel="next" href="csw_support_old.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide">
    <meta name="dcterms.isVersionOf" content="SPATL">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="esri-shapefiles.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="csw_support_old.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="spatial-supplementary-information.html" property="item" typeof="WebPage"><span property="name">补充资料</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">路由引擎管理</li>
            </ol>
            <a id="GUID-ED1682F6-EEC2-4080-A29A-269CD89DEB4F" name="GUID-ED1682F6-EEC2-4080-A29A-269CD89DEB4F"></a><a id="SPATL1561"></a>
            
            <h2 id="SPATL-GUID-ED1682F6-EEC2-4080-A29A-269CD89DEB4F" class="sect2"><span class="enumeration_chapter">E</span>路由引擎管理</h2>
         </header>
         <div class="ind">
            <div>
               <p>本附录适用于需要管理路由引擎的高级用户。它不适用于大多数路由用户。</p>
               <div class="infoboxnote" id="GUID-ED1682F6-EEC2-4080-A29A-269CD89DEB4F__GUID-805418FD-5E3A-47BA-BC31-9C0E8FB6FBF2">
                  <p class="notep1">注意：</p>
                  <p>它假定您熟悉<a href="routing-engine-concepts.html#GUID-22403E02-1569-4D9E-8D04-02003D70C1B7" title="Spatial和Graph路由引擎（通常称为路由引擎）使您能够托管基于XML的Web服务，该服务提供以下功能。">路由引擎中</a>描述的概念和技术。
                  </p>
               </div>
               <p>Oracle Spatial and Graph路由引擎使用子程序来处理路由数据的管理。有一些子程序可以对道路数据进行分区，使用道路数据构建网络数据模型（NDM）网络，生成用于货运和转弯限制的用户数据，以及转储和验证路径引擎数据和用户数据。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-A1971861-6411-4586-A275-D173CA485F8B">记录管理操作</a><br></li>
                  <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-EEB8645C-9A59-48E4-AC6E-F54C03DFE17D">网络数据模型（NDM）网络管理</a><br></li>
                  <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830">路由引擎数据</a><br></li>
                  <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-017D8448-E91E-409E-A13B-4517FCB36238">用户数据</a><br></li>
                  <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-32CC3FB3-273E-40D4-B05C-8B3CE3395945">其他功能和程序</a><br></li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="spatial-supplementary-information.html#GUID-27D2A555-529F-4F08-ADDC-C6587A35358C">补充信息</a></p>
                  </div>
               </div>
            </div>
            <a id="SPATL1562"></a><div class="props_rev_3"><a id="GUID-A1971861-6411-4586-A275-D173CA485F8B" name="GUID-A1971861-6411-4586-A275-D173CA485F8B"></a><h3 id="SPATL-GUID-A1971861-6411-4586-A275-D173CA485F8B" class="sect3"><span class="enumeration_section">E.1</span>记录管理操作</h3>
               <div>
                  <p>路由引擎将其所有管理功能记录到指定的日志文件或默认日志文件中。所有管理日志都写入Oracle目录对象SDO_ROUTER_LOG_DIR描述的目录。</p>
                  <p>SDO_ROUTER_LOG_DIR目录必须存在; MDSYS和路由引擎模式都必须具有从PL / SQL和Java读取和写入此目录的权限。</p>
                  <p>以下子程序与日志记录管理操作有关。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-2E5B3F22-DBCC-4F87-B341-2DF40ABCDCC2">CREATE_SDO_ROUTER_LOG_DIR过程</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-B51E92B9-6FF4-444D-BAB4-ACE67C650B18">VALIDATE_SDO_ROUTER_LOG_DIR过程</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-ED1682F6-EEC2-4080-A29A-269CD89DEB4F" title="本附录适用于需要管理路由引擎的高级用户。它不适用于大多数路由用户。">路由引擎管理</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL1563"></a><div class="props_rev_3"><a id="GUID-2E5B3F22-DBCC-4F87-B341-2DF40ABCDCC2" name="GUID-2E5B3F22-DBCC-4F87-B341-2DF40ABCDCC2"></a><h4 id="SPATL-GUID-2E5B3F22-DBCC-4F87-B341-2DF40ABCDCC2" class="sect4"><span class="enumeration_section">E.1.1</span> CREATE_SDO_ROUTER_LOG_DIR程序</h4>
                  <div>
                     <p>句法：</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.CREATE_SDO_ROUTER_LOG_DIR(
  ROUTER_SCHEMA IN VARCHAR2,
  NEW_DIR_PATH  IN VARCHAR2 DEFAULT NULL);
</pre><p>必须从具有Oracle权限的帐户运行CREATE_SDO_ROUTER_LOG_DIR过程，以创建目录对象并将权限授予其他数据库用户。由于此过程为路由引擎和MDSYS模式授予特权，因此无法从这些模式中的任何一个运行它。</p>
                     <p>必须指定ROUTER_SCHEMA参数，并且该参数必须是包含路由引擎数据的有效模式。</p>
                     <p>NEW_DIR_PATH参数是可选参数。如果未指定目录路径，则数据库中必须已存在有效的SDO_ROUTER_LOG_DIR Oracle目录。如果没有，则引发异常。如果指定了目录路径，则会创建一个新的SDO_ROUTER_LOG_DIR Oracle目录。如果已定义SDO_ROUTER_LOG_DIR，则新定义将替换旧定义。</p>
                     <p>创建目录后，将对PL / SQL和Java的路由引擎和MDSYS模式授予读/写访问权限。</p>
                     <p>在以前版本的路由引擎中，用户运行各个步骤来创建目录并授予权限。不再建议这样做。现在，建议使用CREATE_SDO_ROUTER_LOG_DIR过程来管理路由引擎所需的Oracle目录。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-A1971861-6411-4586-A275-D173CA485F8B">记录管理操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1564"></a><div class="props_rev_3"><a id="GUID-B51E92B9-6FF4-444D-BAB4-ACE67C650B18" name="GUID-B51E92B9-6FF4-444D-BAB4-ACE67C650B18"></a><h4 id="SPATL-GUID-B51E92B9-6FF4-444D-BAB4-ACE67C650B18" class="sect4"><span class="enumeration_section">E.1.2</span> VALIDATE_SDO_ROUTER_LOG_DIR程序</h4>
                  <div>
                     <p>句法：</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.VALIDATE_SDO_ROUTER_LOG_DIR(
  LOG_FILE_NAME IN VARCHAR2 := 'sdo_router_partition.log');
</pre><p>VALIDATE_SDO_ROUTER_LOG_DIR过程应该从路由引擎和MDSYS模式运行。</p>
                     <p>LOG_FILE_NAME参数是要打开并尝试写入的日志文件的名称。您可以指定名称或使用默认日志文件<code class="codeph">sdo_router_partition.log</code> 。
                     </p>
                     <p>如果日志文件不存在，则会在SDO_ROUTER_LOG_DIR目录中创建并打开该日志文件。如果日志文件存在，则重新打开。验证过程尝试从PL / SQL和Java写入日志文件，然后关闭日志文件。</p>
                     <p>如果该目录不存在或者PL / SQL和/或Java无法写入日志文件，则会引发异常。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-A1971861-6411-4586-A275-D173CA485F8B">记录管理操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SPATL1565"></a><div class="props_rev_3"><a id="GUID-EEB8645C-9A59-48E4-AC6E-F54C03DFE17D" name="GUID-EEB8645C-9A59-48E4-AC6E-F54C03DFE17D"></a><h3 id="SPATL-GUID-EEB8645C-9A59-48E4-AC6E-F54C03DFE17D" class="sect3"><span class="enumeration_section">E.2</span>网络数据模型（NDM）网络管理</h3>
               <div>
                  <p>Oracle路由引擎需要基于路由引擎数据构建的Oracle Spatial and Graph网络数据模型（NDM）网络来处理路由请求并生成响应。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-025B2003-E732-4DE0-9469-332D194FCEEE">CREATE_ROUTER_NETWORK过程</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-6CC95CF6-E6BF-4492-BE4F-2A0408DBA55A">DELETE_ROUTER_NETWORK过程</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-8DEBDF36-D478-4CC4-B936-516568DAC0E0">网络创建示例</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-ED1682F6-EEC2-4080-A29A-269CD89DEB4F" title="本附录适用于需要管理路由引擎的高级用户。它不适用于大多数路由用户。">路由引擎管理</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL1566"></a><div class="props_rev_3"><a id="GUID-025B2003-E732-4DE0-9469-332D194FCEEE" name="GUID-025B2003-E732-4DE0-9469-332D194FCEEE"></a><h4 id="SPATL-GUID-025B2003-E732-4DE0-9469-332D194FCEEE" class="sect4"><span class="enumeration_section">E.2.1</span> CREATE_ROUTER_NETWORK程序</h4>
                  <div>
                     <p>句法：</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.CREATE_ROUTER_NETWORK(
  LOG_FILE_NAME IN VARCHAR2 := 'sdo_router_partition.log',
  NETWORK_NAME IN VARCHAR2 := 'ROUTER_NETWORK');
</pre><p>必须从包含路由引擎Oracle数据格式（ODF）数据的路由引擎架构运行CREATE_ROUTER_NETWORK过程。</p>
                     <p>LOG_FILE_NAME参数是在网络创建期间写入的日志文件的名称。此日志文件在SDO_ROUTER_LOG_DIR目录中创建。您可以选择在自己的日志文件中记录网络创建，也可以写入默认分区日志文件<code class="codeph">sdo_router_partition.log</code> 。
                     </p>
                     <p>NETWORK_NAME参数命名正在创建的网络。网络名称由用户自行决定。为清晰起见，Oracle建议在名称中包含国家/地区代码和数据版本。例如，对于2012年第一季度发布的北美数据，合适的网络名称为ROUTER_NA_Q112。</p>
                     <p>使用现有网络的名称创建网络只是将旧网络替换为新网络。不建议这样做。应首先删除旧网络（使用<a href="routing-engine-administration.html#GUID-6CC95CF6-E6BF-4492-BE4F-2A0408DBA55A">DELETE_ROUTER_NETWORK过程</a> ），然后创建新网络。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-EEB8645C-9A59-48E4-AC6E-F54C03DFE17D">网络数据模型（NDM）网络管理</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1567"></a><div class="props_rev_3"><a id="GUID-6CC95CF6-E6BF-4492-BE4F-2A0408DBA55A" name="GUID-6CC95CF6-E6BF-4492-BE4F-2A0408DBA55A"></a><h4 id="SPATL-GUID-6CC95CF6-E6BF-4492-BE4F-2A0408DBA55A" class="sect4"><span class="enumeration_section">E.2.2</span> DELETE_ROUTER_NETWORK程序</h4>
                  <div>
                     <p>句法：</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.DELTE_ROUTER_NETWORK(
  LOG_FILE_NAME	IN VARCHAR2 := 'sdo_router_partition.log',
  NETWORK_NAME	IN VARCHAR2 := 'ROUTER_NETWORK',
  LOG_DELETE    IN BOOLEAN DEFAULT TRUE);
</pre><p>必须从路由引擎架构运行DELETE_ROUTER_NETWORK过程，并且架构中必须存在与网络名称参数匹配的网络。</p>
                     <p>LOG_FILE_NAME参数是网络删除期间写入的日志文件的名称。此日志文件在SDO_ROUTER_LOG_DIR目录中创建。您可以选择在其自己的日志文件中记录网络删除，也可以写入默认分区日志文件<code class="codeph">sdo_router_partition.log</code> 。
                     </p>
                     <p>NETWORK_NAME参数是要删除的网络的名称。如果此名称的网络不存在，则抛出异常并将错误消息写入日志文件。</p>
                     <p>LOG_DELETE参数控制是否将删除操作记录到日志文件中。此参数主要用于调试。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-EEB8645C-9A59-48E4-AC6E-F54C03DFE17D">网络数据模型（NDM）网络管理</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1568"></a><div class="props_rev_3"><a id="GUID-8DEBDF36-D478-4CC4-B936-516568DAC0E0" name="GUID-8DEBDF36-D478-4CC4-B936-516568DAC0E0"></a><h4 id="SPATL-GUID-8DEBDF36-D478-4CC4-B936-516568DAC0E0" class="sect4"><span class="enumeration_section">E.2.3</span>网络创建示例</h4>
                  <div>
                     <p>本节介绍为路由引擎使用创建示例NDM网络的步骤。</p>
                     <ol>
                        <li>
                           <p>验证路由引擎架构中的路由引擎日志目录。SDO_ROUTER_LOG_DIR必须存在且具有正确的权限。登录到路由引擎模式并执行以下语句：</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_ROUTER_PARTITION.VALIDATE_ROUTER_LOG_DIR(
    'validate_log.log');
</pre><p>验证成功完成后， <code class="codeph">validate_log.log</code>文件应包含以下消息：</p><pre class="oac_no_warn" dir="ltr">[INFO] PLSQL logging OK (ROUTER_SCHEMA)
[INFO] Java logging OK (ROUTER_SCHEMA)
[INFO] PLSQL logging OK (MDSYS)
[INFO] Java logging OK (MDSYS)
</pre></li>
                        <li>
                           <p>验证MDSYS架构中的路由引擎日志目录。SDO_ROUTER_LOG_DIR必须存在且具有正确的权限。登录MDSYS模式并执行与步骤1相同的语句。</p>
                        </li>
                        <li>
                           <p>在路由引擎架构中，使用以下查询来查找任何现有网络的名称：</p><pre class="oac_no_warn" dir="ltr">SELECT SUBSTR(view_name, 0, LENGTH(view_name)-7) Network_Name
 FROM user_views 
 WHERE view_name LIKE '%PBLOB$';
</pre><p>如果未返回任何结果，请转至步骤5。如果返回类似于以下内容的结果，请在创建新网络之前转到下一步删除网络。</p><pre class="oac_no_warn" dir="ltr">NETWORK_NAME
------------
<span class="italic">&lt;any-network-name&gt;</span>
</pre></li>
                        <li>
                           <p>使用DELETE_NETWORK过程删除现有网络。例如，如果现有网络名为ROUTER_NA_Q112：</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_ROUTER_PARTITION.DELETE_ROUTER_NETWORK(
    'delete_net.log', 'ROUTER_NA_Q112');
</pre><p>删除成功完成后， <code class="codeph">delete_net.log</code>文件应包含以下消息：</p><pre class="oac_no_warn" dir="ltr">INFO: deleting the Routeserver network: ROUTER_NA_Q112
</pre></li>
                        <li>
                           <p>使用CREATE_ROUTER_NETWORK过程构建新网络。例如：</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_ROUTER_PARTITION.CREATE_ROUTER_NETWORK(
    'create_net.log', 'ROUTER_NA_112');
</pre><p>当create操作成功完成时， <code class="codeph">create_net.log</code>文件应包含以下消息：</p><pre class="oac_no_warn" dir="ltr">INFO: creating the Routeserver network: ROUTER_NA_Q112
INFO: rebuild edge table statistics
      creating views
      generating metadata</pre></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-EEB8645C-9A59-48E4-AC6E-F54C03DFE17D">网络数据模型（NDM）网络管理</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SPATL1569"></a><div class="props_rev_3"><a id="GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830" name="GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830"></a><h3 id="SPATL-GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830" class="sect3"><span class="enumeration_section">E.3</span>路由引擎数据</h3>
               <div>
                  <p>路由引擎使用路由引擎数据和用户数据。路由引擎数据存储在EDGE，NODE，SIGN_POST和PARTITION表中。</p>
                  <p>路由引擎数据将道路网络建模为节点和边缘的有向图。分区将这个道路网络分成2 ** N（2 <sup>N</sup> ）个子图（本地分区）和一个公路分区。道路网络的节点在拓扑上被分区，因此每个本地分区包含相同数量的节点。网络中的每个节点都在一个且只有一个分区中。边可以完全在分区，内部边缘或桥两个分区（即边界边）内。分区作为BLOB存储在数据库中，因此可以轻松地从缓存中读取和删除它们。这允许路由引擎在不需要整个道路网络在内存中的情况下操作。
                  </p>
                  <p>分区1到N，本地分区，大小大致相同。在计算路由时，根据需要将本地分区读入高速缓存。这些分区保留在缓存中，直到缓存已满，此时交换最少使用的分区，以便为计算当前路由所需的分区腾出空间。</p>
                  <p>分区0（零），高速公路分区，在两个方面与本地分区不同：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>它不是道路网络的拓扑分区。相反，它是仅包含高速公路信息的道路网络的子图。因此，高速公路分区比本地分区大得多。</p>
                     </li>
                     <li>
                        <p>它在路由引擎启动时读入缓存并保持驻留状态。</p>
                     </li>
                  </ul>
                  <p>道路网络分为三个阶段。第一阶段对数据进行分区，计算所需的分区数以及哪些分区包含哪些节点和边。第二阶段将这些分区转换为BLOB并将它们写入数据库。最后阶段重建路由引擎网络，对任何用户数据进行分区，并将用户数据BLOB写入数据库。</p>
                  <p>路由引擎数据已版本化。在分区的第三阶段，路由引擎版本将写入SDO_ROUTER_DATA_VERSION表，并成为此数据集的数据版本。如果导出数据集以在另一个路由引擎模式中使用，则此新路由引擎的版本必须与数据集的数据版本兼容。</p>
                  <p>路由引擎数据由Oracle数据格式（ODF）中的数据供应商提供，并且已经分区。通常，客户无需重新分配数据。但是，可能存在某些情况，例如性能测试不同的分区大小或合并数据集时，您可能需要重新分区路由引擎数据。</p>
                  <div class="infoboxnote" id="GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830__GUID-9802A9CC-A24A-464E-ABE5-13063B9A55DE">
                     <p class="notep1">注意：</p>
                     <p>重新分区路由引擎数据可能是一个非常耗费时间和资源的操作。根据所使用的硬件，对大型数据集（例如北美或欧盟）进行重新分区可以轻松运行一天或更长时间。</p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-C212EEC4-3A49-4044-8EAD-AD335A7F31A8">PARTITION_ROUTER程序</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-C090BCBF-0E8B-4D0F-AED9-9627BAE33AFD">CLEANUP_ROUTER程序</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-35492196-E7B6-40FA-8F13-5566A7C6CBA1">DUMP_PARTITIONS过程</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-85AA83BF-E7BD-4DEB-878B-0627A89B8244">VALIDATE_PARTITIONS过程</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-35EE3280-D593-49E5-8DE2-0BE6C9AE2083">GET_VERSION程序</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-436A6B18-8EB6-4977-B621-17BB6EF56B1D">路由引擎数据示例</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-ED1682F6-EEC2-4080-A29A-269CD89DEB4F" title="本附录适用于需要管理路由引擎的高级用户。它不适用于大多数路由用户。">路由引擎管理</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL1570"></a><div class="props_rev_3"><a id="GUID-C212EEC4-3A49-4044-8EAD-AD335A7F31A8" name="GUID-C212EEC4-3A49-4044-8EAD-AD335A7F31A8"></a><h4 id="SPATL-GUID-C212EEC4-3A49-4044-8EAD-AD335A7F31A8" class="sect4"><span class="enumeration_section">E.3.1</span> PARTITION_ROUTER程序</h4>
                  <div>
                     <p>句法：</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.PARTION_ROUTER(
    LOG_FILE_NAME IN VARCHAR2 := 'sdo_router_partition.log',
    MAX_V_NO      IN NUMBER DEFAULT 10000,
    DRIVING_SIDE  IN VARCHAR2 := 'R',
    NETWORK_NAME  IN VARCHAR := 'ROUTER_NETWORK',
    MAX_MEMORY    IN NUMBER := 1.75,
    CLEANUP       IN BOOLEAN DEFAULT TRUE,
    USE_SECUREFILES           IN BOOLEAN DEFAULT TRUE,
    GENERATE_11G_RESTRICTIONS IN BOOLEAN DEFAULT TRUE);
</pre><p>必须从包含路由引擎Oracle数据格式数据的路由引擎架构运行PARTITION_ROUTER过程。此过程对道路网络进行分区，并创建包含BLOB格式的路由引擎数据的PARTITION表。</p>
                     <p>LOG_FILE_NAME参数指定在路由引擎分区期间写入的日志文件的名称。此日志文件在SDO_ROUTER_LOG_DIR目录中创建。用户可以选择日志文件名或使用默认分区日志文件sdo_router_partition.log。</p>
                     <p>MAX_V_NO参数指定分区中允许的最大节点数。NODE表中必须至少有（MAX_V_NO + 1）个节点。</p>
                     <p>DRIVING_SIDE参数是遗留参数。它唯一的用途是产生<span class="italic">11g</span>转弯限制。有效值为R（右侧）和L（左侧）。NETWORK_NAME参数指定在分区期间创建的路由引擎网络的名称。
                     </p>
                     <p>MAX_MEMORY参数指定分区进程可用的最大Java堆大小（以GB为单位）。对于大多数数据集，默认值1.75G就足够了。仅在分割比正常小得多或大得多的数据集时才需要调整此参数。</p>
                     <p>CLEANUP参数用于调试。默认情况下，清除在分区路由引擎数据期间创建的所有中间表。如果分区时出现问题，保留这些表（指定CLEANUP =&gt; FALSE）可以提供实质性的调试信息。</p>
                     <p>USE_SECUREFILES参数允许您以BASICFILE或SECUREFILE格式创建路由引擎的BLOB。Oracle建议使用SECUREFILE格式。</p>
                     <p>GENERATE_11G_RESTRICTIONS参数控制Release 11 <span class="italic">g</span>转弯限制数据的生成。在Oracle Database Release <span class="italic">11g中</span> ，实现了基本转弯限制并将其存储在PARTITION表中。在Oracle Database Release 12 <span class="italic">c中</span> ，转弯限制已扩展并存储在用户数据表ROUTER_TURN_RESTRICTION_DATA中。以允许<span class="italic">C</span>到仍然使用一个推出<span class="italic">11克</span>路由服务器的用户数据提供给第12版下分配船舶数据，在默认情况下产生的两种类型的转弯限制。在Oracle Release 12 <span class="italic">c</span>下重新分区数据时，对于版本12 <span class="italic">c</span> Route Server，可以将此参数设置为FALSE。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830">路由引擎数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1571"></a><div class="props_rev_3"><a id="GUID-C090BCBF-0E8B-4D0F-AED9-9627BAE33AFD" name="GUID-C090BCBF-0E8B-4D0F-AED9-9627BAE33AFD"></a><h4 id="SPATL-GUID-C090BCBF-0E8B-4D0F-AED9-9627BAE33AFD" class="sect4"><span class="enumeration_section">E.3.2</span> CLEANUP_ROUTER程序</h4>
                  <div>
                     <p>句法：</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.CLEANUP_ROUTER(
    ALL_TABLES IN BOOLEAN DEFAULT TRUE);
</pre><p>CLEANUP_ROUTER过程重置路由引擎的状态，确保所有表和索引都处于良好状态，并删除所有中间表。如果分区失败或分区成功完成且CLEANUP标志设置为FALSE，则此功能非常有用。</p>
                     <p>ALL_TABLES参数控制重置的内容。设置为FALSE时，路由引擎将重置为稳定状态，但保留中间表以进行调试。如果分区失败，这可能很有用。设置为TRUE时，路由引擎将重置为稳定状态，并删除分区中使用的所有中间表。在将CLEANUP参数设置为FALSE的情况下成功运行<a href="routing-engine-administration.html#GUID-C212EEC4-3A49-4044-8EAD-AD335A7F31A8">PARTITION_ROUTER过程</a>后清理时，此功能非常有用。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830">路由引擎数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1572"></a><div class="props_rev_3"><a id="GUID-35492196-E7B6-40FA-8F13-5566A7C6CBA1" name="GUID-35492196-E7B6-40FA-8F13-5566A7C6CBA1"></a><h4 id="SPATL-GUID-35492196-E7B6-40FA-8F13-5566A7C6CBA1" class="sect4"><span class="enumeration_section">E.3.3</span> DUMP_PARTITIONS过程</h4>
                  <div>
                     <p>句法：</p><pre class="oac_no_warn" dir="ltr">DUMP_PARTITIONS(
    LOG_FILE_NAME IN VARCHAR2 := 'sdo_router_partition.log',
    START_PID     IN NUMBER DEFAULT 0,
    END_PID       IN NUMBER DEFAULT -1,
    VERBOSE       IN BOOLEAN DEFAULT FALSE);
</pre><p>DUMP_PARTITIONS过程转储路由引擎数据分区BLOB的内容。此过程解压缩BLOB，格式化数据并将其写入日志文件。单个运行此过程可以转储单个分区或连续的分区范围。此范围定义为从START_PID到END_PID（包括端点）。默认设置是转储所有分区。不能在一次调用中转储不连续的分区范围。</p>
                     <p>LOG_FILE_NAME参数是转储路由引擎分区时写入的日志文件的名称。此日志文件在SDO_ROUTER_LOG_DIR目录中创建。您可以选择日志文件名或写入默认分区日志文件<code class="codeph">sdo_router_partition.log</code> 。
                     </p>
                     <p>START_PID参数是要转储的第一个分区的ID。默认的START_PID为0。START_PID必须小于或等于END_PID。</p>
                     <p>END_PID参数是要转储的最后一个分区的ID。默认END_PID为-1，它将转换为数据集中的最高分区ID。如果开始和结束PID值相等，则转储单个分区。如果END_PID小于START_PID，则会向日志写入错误消息。</p>
                     <p>VERBOSE参数控制转储的数据。默认值FALSE转储分区信息的摘要，包括节点和边的数量以及BLOB的大小。如果此参数为TRUE，则除摘要外，还会转储描述分区中所有节点和边的所有信息。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830">路由引擎数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1573"></a><div class="props_rev_3"><a id="GUID-85AA83BF-E7BD-4DEB-878B-0627A89B8244" name="GUID-85AA83BF-E7BD-4DEB-878B-0627A89B8244"></a><h4 id="SPATL-GUID-85AA83BF-E7BD-4DEB-878B-0627A89B8244" class="sect4"><span class="enumeration_section">E.3.4</span> VALIDATE_PARTITIONS过程</h4>
                  <div>
                     <p>句法：</p><pre class="oac_no_warn" dir="ltr">VALIDATE_PARTITIONS(
    LOG_FILE_NAME IN VARCHAR2 := 'sdo_router_partition.log',
    START_PID     IN NUMBER DEFAULT 0,
    END_PID       IN NUMBER DEFAULT -1,
    VERBOSE       IN BOOLEAN DEFAULT FALSE);
</pre><p>VALIDATE_PARTITIONS过程验证路由引擎数据分区BLOB的内容。验证大型数据集中的所有分区可能需要一些时间才能运行，但这是读取每个分区中每个字节的最快方法，以确保分区已准备好用于路由。如果您怀疑分区可能存在问题，则只需要运行验证。如果运行验证，Oracle建议在VERBOSE标志设置为FALSE的所有分区上运行初始验证。如果发现问题，则在VERBOSE设置为true的情况下重新运行问题分区上的验证。</p>
                     <p>LOG_FILE_NAME参数是验证路由引擎数据分区时写入的日志文件的名称。此日志文件在SDO_ROUTER_LOG_DIR目录中创建。您可以选择日志文件名或写入默认分区日志文件<code class="codeph">sdo_router_partition.log</code> 。
                     </p>
                     <p>START_PID参数是要验证的第一个分区的ID。默认的START_PID为0。START_PID必须小于或等于END_PID。</p>
                     <p>END_PID参数是要验证的最后一个分区的ID。默认END_PID为-1，它将转换为数据集中的最高分区ID。如果开始和结束PID值相等，则验证单个分区。如果END_PID小于START_PID，则会向日志写入错误消息。</p>
                     <p>VERBOSE参数控制验证消息的详细程度。默认值FALSE仅记录分区是否通过验证或验证失败。如果此参数为TRUE，则记录BLOB中每个元素的验证。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830">路由引擎数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1574"></a><div class="props_rev_3"><a id="GUID-35EE3280-D593-49E5-8DE2-0BE6C9AE2083" name="GUID-35EE3280-D593-49E5-8DE2-0BE6C9AE2083"></a><h4 id="SPATL-GUID-35EE3280-D593-49E5-8DE2-0BE6C9AE2083" class="sect4"><span class="enumeration_section">E.3.5</span> GET_VERSION程序</h4>
                  <div>
                     <p>句法：</p><pre class="oac_no_warn" dir="ltr">GET_VERSION(
    LOG_FILE_NAME IN VARCHAR2 := 'sdo_router_partition.log');
</pre><p>GET_VERSION过程查询SDO_ROUTER_DATA_VERSION表以获取路由引擎数据版本并将结果写入日志文件。（另一种方法是，您可以使用SQL查询SDO_ROUTER_DATA_VERSION表。）</p>
                     <p>LOG_FILE_NAME参数是写入路由引擎数据版本的日志文件的名称。此日志文件在SDO_ROUTER_LOG_DIR目录中创建。您可以选择日志文件名或写入默认分区日志文件<code class="codeph">sdo_router_partition.log</code> 。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830">路由引擎数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1575"></a><div class="props_rev_3"><a id="GUID-436A6B18-8EB6-4977-B621-17BB6EF56B1D" name="GUID-436A6B18-8EB6-4977-B621-17BB6EF56B1D"></a><h4 id="SPATL-GUID-436A6B18-8EB6-4977-B621-17BB6EF56B1D" class="sect4"><span class="enumeration_section">E.3.6</span>路由引擎数据示例</h4>
                  <div>
                     <p>本节包含以下操作的示例。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-F1D63241-EE14-4FC9-9DEB-7215BE437B90">分区小数据集</a><br></li>
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-509C1DAD-8C62-41D9-B343-D3D69F34633C">分区完整数据集</a><br></li>
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-25465F90-9C2C-4E86-BB4D-49A9B000C0E0">转储分区的内容</a><br></li>
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-02C1157D-E11A-4432-88EC-6ED827B002EC">验证分区的内容</a><br></li>
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-09B2B646-C587-47F6-B2AD-91E6DA21D81B">查询路由引擎数据版本</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830">路由引擎数据</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="SPATL1577"></a><a id="SPATL1576"></a><div class="props_rev_3"><a id="GUID-F1D63241-EE14-4FC9-9DEB-7215BE437B90" name="GUID-F1D63241-EE14-4FC9-9DEB-7215BE437B90"></a><h5 id="SPATL-GUID-F1D63241-EE14-4FC9-9DEB-7215BE437B90" class="sect5"><span class="enumeration_section">E.3.6.1</span>对小数据集进行分区</h5>
                     <div>
                        <div class="section">
                           <p><a href="routing-engine-administration.html#GUID-F1D63241-EE14-4FC9-9DEB-7215BE437B90__CACEGCDH">示例E-1</a>示出了小数据集的分区。此示例中的数据集是旧金山市中心周围100英里半径的道路网络数据。该数据集包含大约520,000个节点和1,200,00个边缘。要对路由引擎数据进行分区，请从路由引擎架构中执行该语句。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-F1D63241-EE14-4FC9-9DEB-7215BE437B90__CACEGCDH">
                           <p class="titleinexample">示例E-1对小数据集进行分区</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_ROUTER_PARTITION.PARTITION_ROUTER(
   'sdo_router_partition.log', 1000, 'R', 
   'ROUTER_SF_NET', .75, FALSE, FALSE, FALSE);

******** Beginning SDO Router partitioning
** Schema: ROUTER_SF_SCHEMA
** Logfile location:/scratch/logs/sdo_router_partition.log
** Nodes per partition: 1000
** Driving side: R
** Router network name: ROUTER_SF_NET
** Max JVM Memory Size: .75GB (805306368 bytes)
** Cleanup temporary files: FALSE
** BLOBs stored in BASICFILE format
** Generating 11g turn restrictions: FALSE
[This header is followed by extensive logging of the partitioning process.]
</pre><p>此示例生成1025个分区，1个高速公路分区和1024个本地分区。平均每个分区有516个节点。驾驶侧已设定但未使用，因为未要求释放11 <span class="italic">g</span>转弯限制。Java最大堆大小设置为四分之三千兆字节，足以分割这么小的数据集。分区BLOB以Basicfile格式编写，当分区完成时，中间表未被清除。
                           </p>
                           <p>要通过分区清理留下的中间表，请输入以下内容：</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_ROUTER_PARTITION.CLEANUP_ROUTER()</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-436A6B18-8EB6-4977-B621-17BB6EF56B1D">路由引擎数据示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SPATL1579"></a><a id="SPATL1578"></a><div class="props_rev_3"><a id="GUID-509C1DAD-8C62-41D9-B343-D3D69F34633C" name="GUID-509C1DAD-8C62-41D9-B343-D3D69F34633C"></a><h5 id="SPATL-GUID-509C1DAD-8C62-41D9-B343-D3D69F34633C" class="sect5"><span class="enumeration_section">E.3.6.2</span>对完整数据集进行分区</h5>
                     <div>
                        <div class="section">
                           <p><a href="routing-engine-administration.html#GUID-509C1DAD-8C62-41D9-B343-D3D69F34633C__CACJJGGC">示例E-2</a>示出了完整数据集的分区。此示例的数据集是整个北美公路网。该数据集包含大约3000万个节点和7400万个边缘。要对路由引擎数据进行分区，请从路由引擎架构中执行该语句。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-509C1DAD-8C62-41D9-B343-D3D69F34633C__CACJJGGC">
                           <p class="titleinexample">示例E-2对完整数据集进行分区</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_ROUTER_PARTITION.PARTITION_ROUTER(
   'sdo_router_partition.log, 32000, 'R', 'ROUTER_NA_NET');

******** Beginning SDO Router partitioning
** Schema: ROUTER_NA_SCHEMA
** Logfile location:/scratch/logs/sdo_router_partition.log
** Nodes per partition: 32000
** Driving side: R
** Router network name: ROUTER_NA_NET
** Max JVM Memory Size: 1.75GB (1879048192 bytes)
** Cleanup temporary files: TRUE
** BLOBs stored in SECUREFILE format
** Generating 11g turn restrictions: TRUE
[This header is followed by extensive logging of the partitioning process.]
++ Partitioning a data set of this size is time and resource intensive ++
 </pre><p>此示例生成1025个分区，1个高速公路分区和1024个本地分区。每个分区平均有29443个节点。驱动侧设置为“右侧”，用于生成请求的Oracle 11 <span class="italic">g</span>转弯限制。使用的默认Java堆大小为1.75千兆字节。所有路由引擎数据和用户数据BLOB都以SECUREFILE格式存储，并且在成功分区后清除所有中间表。
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-436A6B18-8EB6-4977-B621-17BB6EF56B1D">路由引擎数据示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SPATL1581"></a><a id="SPATL1582"></a><a id="SPATL1580"></a><div class="props_rev_3"><a id="GUID-25465F90-9C2C-4E86-BB4D-49A9B000C0E0" name="GUID-25465F90-9C2C-4E86-BB4D-49A9B000C0E0"></a><h5 id="SPATL-GUID-25465F90-9C2C-4E86-BB4D-49A9B000C0E0" class="sect5"><span class="enumeration_section">E.3.6.3</span>转储分区内容</h5>
                     <div>
                        <div class="section">
                           <p><a href="routing-engine-administration.html#GUID-25465F90-9C2C-4E86-BB4D-49A9B000C0E0__CACBCGGD">示例E-3</a>显示了分区0到3的转储，其中包含旧金山数据集的默认VERBOSE值（FALSE）。请注意高速公路和本地分区之间的BLOB大小差异。另请注意，高速公路隔断是完全独立的，因此没有出站边缘。本地分区具有将它们连接到其他本地分区的传出边。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-25465F90-9C2C-4E86-BB4D-49A9B000C0E0__CACBCGGD">
                           <p class="titleinexample">示例E-3转储分区的内容（VERBOSE = FALSE）</p><pre class="oac_no_warn" dir="ltr">EXEC SDO_ROUTER_PARTITION.DUMP_PARTITIONS(
   'dump_part0-3.log', 0, 3);

******** Beginning partition dump
** Logfile location: /scratch/logs/dump_part0-3.log
** Routeserver data version: 12.1.0.2.1
** Start partition id: 0
** End partition id: 3
** Verbose mode: FALSE
[INFO] Starting dump of partition 0
  Number of Nodes: 19392
  Number of Nonboundary Edges: 22706
  Number of Outgoing Boundary Edges: 0
  Number of Incoming Boundary Edges: 0
  Stored Partition ID: 0
  Blob Length: 1748332
 
[INFO] Starting dump of partition 1
  Number of Nodes: 516
  Number of Nonboundary Edges: 1190
  Number of Outgoing Boundary Edges: 49
  Number of Incoming Boundary Edges: 49
  Stored Partition ID: 1
  Blob Length: 81372
 
[INFO] Starting dump of partition 2
  Number of Nodes: 516
  Number of Nonboundary Edges: 1099
  Number of Outgoing Boundary Edges: 68
  Number of Incoming Boundary Edges: 68
  Stored Partition ID: 2
  Blob Length: 78388
[INFO] Starting dump of partition 3
  Number of Nodes: 516
  Number of Nonboundary Edges: 1101
  Number of Outgoing Boundary Edges: 60
  Number of Incoming Boundary Edges: 60
  Stored Partition ID: 3
  Blob Length: 77756
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-25465F90-9C2C-4E86-BB4D-49A9B000C0E0__CACFADGB">
                           <p class="titleinexample">示例E-4转储分区的内容（VERBOSE = TRUE）</p>
                           <p><a href="routing-engine-administration.html#GUID-25465F90-9C2C-4E86-BB4D-49A9B000C0E0__CACFADGB">示例E-4</a>显示了旧金山数据集中VERBOSE设置为TRUE的分区8的转储。请注意，出站边缘记录它们终止的分区ID，入站边缘记录它们所在的分区ID。
                           </p><pre class="oac_no_warn" dir="ltr">EXEC SDO_ROUTER_PARTITION.DUMP_PARTITIONS(
   'dump_part8.log', 8, 8, TRUE);

******** Beginning partition dump
** Logfile location:/scratch/logs/dump_part8.log
** Routeserver data version: 12.1.0.2.1
** Start partition id: 8
** End partition id: 8
** Verbose mode: TRUE
[INFO] Starting dump of partition 8
  Number of Nodes: 517
  Number of Non-boundary Edges: 1145
  Number of Outgoing Boundary Edges: 37
  Number of Incoming Boundary Edges: 37
  Stored Partition ID: 8
  Blob Length: 77957

  <span class="bold">Node information for partition 8:</span>
    Node ID/X/Y/Highway: 84096388/-120.50809/37.98399/false
    In Edges(3): -120862233, -120862227, 120862232
    Out Edges(3): -120862232, 120862227, 120862233
    *******************************
    Node ID/X/Y/Highway: 84098023/-120.4882/37.99961/true
    In Edges(3): -127829801, -120428259, 776737023
    Out Edges(3): -776737023, 120428259, 127829801
    *******************************
*** Node information for the other 515 nodes...

  <span class="bold">Non-boundary Edge information for partition 8:</span>
  Internal Edges(1145):
    Edge ID/Start Node ID/End Node ID: 910681077/942981443/206194644
    Length/Speed Limit/Function Class: 130.3/5/5
    *******************************
    Edge ID/Start Node ID/End Node ID: -105461005/206194651/206194644
    Length/Speed Limit/Function Class: 229.93/11/5
    *******************************
*** Edge information for the other 1143 internal edges...

   <span class="bold">Outbound Boundary Edges(37):</span>
    Edge ID/Start Node ID/End Node ID: -724019630/253265936/810705655
    End Node Partition ID/Length: 7/511.07
    Speed Limit/Function Class: 26/2
    *******************************
    Edge ID/Start Node ID/End Node ID: -105462459/252152310/206193109
    End Node Partition ID/Length: 7/814.68
    Speed Limit/Function Class: 11/5
    *******************************
*** Edge information for the other 35 outbound boundary edges...
 
   <span class="bold">Inbound Boundary Edges(37):</span>
    Edge ID/Start Node ID/End Node ID: 724019630/810705655/253265936
    Start Node Partition ID/Length: 7/511.07
    Speed Limit/Function Class: 26/2
    *******************************
    Edge ID/Start Node ID/End Node ID: 105462459/206193109/252152310
    Start Node Partition ID/Length: 7/814.68
    Speed Limit/Function Class: 11/5
    *******************************
*** Edge information for the other 35 inbound boundary edges...</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-436A6B18-8EB6-4977-B621-17BB6EF56B1D">路由引擎数据示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SPATL1584"></a><a id="SPATL1585"></a><a id="SPATL1583"></a><div class="props_rev_3"><a id="GUID-02C1157D-E11A-4432-88EC-6ED827B002EC" name="GUID-02C1157D-E11A-4432-88EC-6ED827B002EC"></a><h5 id="SPATL-GUID-02C1157D-E11A-4432-88EC-6ED827B002EC" class="sect5"><span class="enumeration_section">E.3.6.4</span>验证分区的内容</h5>
                     <div>
                        <div class="section">
                           <p><a href="routing-engine-administration.html#GUID-02C1157D-E11A-4432-88EC-6ED827B002EC__CACEDJAA">示例E-5</a>显示了使用默认VERBOSE值（FALSE）验证数据集中所有分区的内容。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-02C1157D-E11A-4432-88EC-6ED827B002EC__CACEDJAA">
                           <p class="titleinexample">示例E-5验证分区的内容（VERBOSE = FALSE）</p><pre class="oac_no_warn" dir="ltr">EXEC SDO_ROUTER_PARTITION.VALIDATE_PARTITIONS(
   'validate_all_partitions.log');

******** Beginning partition validation
** Logfile location:/scratch/logs/validate_all_partitions.log
** Routeserver data version: 12.1.0.2.1
** Start partition id: 0
** End partition id: 1024
** Verbose mode: FALSE
[INFO] Starting validation of partition 0
[INFO] Starting validation of partition 1
[INFO] Starting validation of partition 2
…
[INFO] Starting validation of partition 1022
[INFO] Starting validation of partition 1023
[INFO] Starting validation of partition 1024
[INFO] Partition validation complete
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-02C1157D-E11A-4432-88EC-6ED827B002EC__CACFFAEH">
                           <p class="titleinexample">示例E-6验证分区的内容（VERBOSE = TRUE）</p>
                           <p><a href="routing-engine-administration.html#GUID-02C1157D-E11A-4432-88EC-6ED827B002EC__CACFFAEH">示例E-6</a>显示了VERBOSE设置为TRUE时分区7和8的内容的验证。</p><pre class="oac_no_warn" dir="ltr">EXEC SDO_ROUTER_PARTITION.VALIDATE_PARTITIONS(
   'validate_part7-8.log', 7, 8, TRUE);

******** Beginning partition validation
** Logfile location: /scratch/logs/validate_part7-8.log
** Routeserver data version: 12.1.0.2.1
** Start partition id: 7
** End partition id: 8
** Verbose mode: TRUE
[INFO] Starting validation of partition 7
  Header node count: OK
  Header edge count: OK
  BLOB partition id: OK
  BLOB length: OK
  BLOB node count: OK
  BLOB information for 516 nodes: OK
  BLOB information for 1154 internal edges: OK
  BLOB information for 66 outbound boundary edges: OK
  BLOB information for 65 inbound boundary edges: OK

[INFO] Starting validation of partition 8
  Header node count: OK
  Header edge count: OK
  BLOB partition id: OK
  BLOB length: OK
  BLOB node count: OK
  BLOB information for 517 nodes: OK
  BLOB information for 1145 internal edges: OK
  BLOB information for 37 outbound boundary edges: OK
  BLOB information for 37 inbound boundary edges: OK

[INFO] Partition validation complete</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-436A6B18-8EB6-4977-B621-17BB6EF56B1D">路由引擎数据示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SPATL1587"></a><a id="SPATL1586"></a><div class="props_rev_3"><a id="GUID-09B2B646-C587-47F6-B2AD-91E6DA21D81B" name="GUID-09B2B646-C587-47F6-B2AD-91E6DA21D81B"></a><h5 id="SPATL-GUID-09B2B646-C587-47F6-B2AD-91E6DA21D81B" class="sect5"><span class="enumeration_section">E.3.6.5</span>查询路由引擎数据版本</h5>
                     <div>
                        <div class="section">
                           <p><a href="routing-engine-administration.html#GUID-09B2B646-C587-47F6-B2AD-91E6DA21D81B__CACHEBGD">示例E-7</a>查询路由引擎数据版本号，将结果写入日志文件。
                           </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM sdo_router_data_version;</pre></div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-09B2B646-C587-47F6-B2AD-91E6DA21D81B__CACHEBGD">
                           <p class="titleinexample">示例E-7查询路由数据版本</p><pre class="oac_no_warn" dir="ltr">EXEC SDO_ROUTER_PARTITION.GET_VERSION('version.log');

INFO: Routeserver data version: 12.1.0.2.1
</pre><p>或者，您可以使用以下SQL查询来获取路由引擎数据版本：</p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-436A6B18-8EB6-4977-B621-17BB6EF56B1D">路由引擎数据示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="SPATL1588"></a><div class="props_rev_3"><a id="GUID-017D8448-E91E-409E-A13B-4517FCB36238" name="GUID-017D8448-E91E-409E-A13B-4517FCB36238"></a><h3 id="SPATL-GUID-017D8448-E91E-409E-A13B-4517FCB36238" class="sect3"><span class="enumeration_section">E.4</span>用户数据</h3>
               <div>
                  <p>用户数据模型对道路网络的限制。目前，路由引擎中存在两种用户数据：限制驾驶操纵（转弯限制）和货运用户数据。</p>
                  <p>用户数据已版本化。当用户数据被分区时，来自SDO_ROUTER_DATA_VERSION表的路由引擎数据版本存储在用户数据BLOB中。当用户数据进入缓存时，存储在用户数据分区中的版本必须与SDO_ROUTER_DATA_VERSION表中的版本兼容。</p>
                  <p>对用户数据进行分区通常是非常快速的操作。它可以作为分区路由引擎数据的一部分来完成，或者如果路由引擎数据已经被分区，则可以作为独立操作来完成。在这两种情况下，用户数据分区使用分区的路由引擎数据作为指导，从而大大加快了分区操作。</p>
                  <p>用户数据分区的数量等于或小于路由引擎数据分区的数量。如果没有与路由引擎数据分区关联的用户数据，则不会生成用户数据分区。用户数据本地分区通过其关联的路由引擎数据分区移入和移出缓存。用户数据高速公路分区在路由引擎启动时加载，并保持驻留在缓存中。</p>
                  <p>在版本<span class="italic">12c中</span> ，受限制的驾驶操纵用户数据是数据供应商提供的路由引擎ODF数据的一部分。路由引擎ODF数据不附带货运用户数据，必须单独购买。当Release 12 <span class="italic">c</span>或更高版本的路由引擎启动时，它会检测并使用任何可用的用户数据。12版前<span class="italic">C</span>路由引擎的所有版本都没有检测到用户数据，而只有使用路由引擎的数据来计算路线。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-A5EA0363-6C36-4DB8-9574-562E78900740">限制驾驶操纵用户数据</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-58FFF7B7-4C4E-4D92-925D-51D96D884879">CREATE_TURN_RESTRICTION_DATA过程</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-F24D3D65-C82E-4935-8BFF-2623AA249258">DUMP_TURN_RESTRICTION_DATA程序</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-3D1530B2-8621-48B6-9CB9-00666AE27724">CREATE_TRUCKING_DATA过程</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-8ACFD79A-11E7-4B63-ABDD-B5B8AB059732">DUMP_TRUCKING_DATA程序</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-72400A0B-3D0B-49DD-93FB-67E49193C02A">CREATE_TIMEZONE_DATA过程</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-7B05372C-9538-49F1-BCF5-CB243F426E10">DUMP_TIMEZONE_DATA程序</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-B837EF74-6013-45E0-B599-4C6F306D898C">用户数据示例</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-ED1682F6-EEC2-4080-A29A-269CD89DEB4F" title="本附录适用于需要管理路由引擎的高级用户。它不适用于大多数路由用户。">路由引擎管理</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL1589"></a><div class="props_rev_3"><a id="GUID-A5EA0363-6C36-4DB8-9574-562E78900740" name="GUID-A5EA0363-6C36-4DB8-9574-562E78900740"></a><h4 id="SPATL-GUID-A5EA0363-6C36-4DB8-9574-562E78900740" class="sect4"><span class="enumeration_section">E.4.1</span>限制驾驶操纵用户数据</h4>
                  <div>
                     <p>受限制的驾驶操纵可以简单到不允许从一个边缘到另一个边缘的移动，例如不允许左转弯的简单转弯限制。或者它可能是一个涉及许多边缘的高度复杂的机动，例如在道路上没有U形转弯限制，中间有一个起始边缘，一个边缘在中间位置，另一个边缘在另一个方向上。</p>
                     <p>路由引擎使用三个表来限制驾驶操纵。前两个表ROUTER_NAV_STRAND和ROUTER_CONDITION包含用于构建受限制的机动用户数据的原始数据。</p>
                     <p>最终表ROUTER_TURN_RESTRICTION_DATA包含以BLOB格式存储的分区限制机动用户数据。对受限制的机动数据进行分区允许它使用相同分区的路由引擎数据移入和移出高速缓存。</p>
                     <p>在版本<span class="italic">12c中</span> ，受限制的驾驶操纵用户数据是数据供应商提供的ODF数据的一部分。当Release 12 <span class="italic">c</span>路由引擎启动时，它会检测并使用转弯限制用户数据。如果Release 11 <span class="italic">g</span>路由引擎启动，它将不会检测用户数据，并且仅使用路由引擎数据来计算路由。
                     </p>
                     <p>因为受限制的驾驶操纵用户数据是ODF数据集的一部分，所以它已经被分区。通常，没有理由重新分配此用户数据。但是，如果重新分区路由引擎数据，则还将重新分区用户数据。还可以重新分配转弯限制用户数据，而不必通过重新创建受限制的驾驶操纵用户数据来重新分配路线引擎数据。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-017D8448-E91E-409E-A13B-4517FCB36238">用户数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1590"></a><div class="props_rev_3"><a id="GUID-58FFF7B7-4C4E-4D92-925D-51D96D884879" name="GUID-58FFF7B7-4C4E-4D92-925D-51D96D884879"></a><h4 id="SPATL-GUID-58FFF7B7-4C4E-4D92-925D-51D96D884879" class="sect4"><span class="enumeration_section">E.4.2</span> CREATE_TURN_RESTRICTION_DATA程序</h4>
                  <div>
                     <p>句法：</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.CREATE_TURN_RESTRICTION_DATA(
    LOG_FILE_NAME IN VARCHAR2 := 'sdo_router_partition.log',
    CLEANUP       IN BOOLEAN DEFAULT TRUE);
</pre><p>必须从包含受限制的驾驶操纵原始数据表ROUTER_NAV_STRAND和ROUTER_CONDITION的路由引擎模式运行CREATE_TURN_RESTRICTION_DATA过程。此过程对受限制的驾驶操纵数据进行分区，并创建包含BLOB格式的转弯限制用户数据的ROUTER_TURN_RESTRICTION_DATA表。转弯限制用户数据创建需要访问数据版本，因此SDO_ROUTER_DATA_VERSION表必须存在于路由引擎架构中。</p>
                     <p>LOG_FILE_NAME参数是在转弯限制生成期间写入的日志文件的名称。此日志文件在SDO_ROUTER_LOG_DIR目录中创建。您可以选择日志文件名或使用默认分区日志文件<code class="codeph">sdo_router_partition.log</code> 。
                     </p>
                     <p>CLEANUP参数用于调试。默认情况下，清除在转弯限制生成期间创建的所有中间表。如果转弯限制生成存在问题，将这些表保留在原位可以提供实质性的调试信息。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-017D8448-E91E-409E-A13B-4517FCB36238">用户数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1591"></a><div class="props_rev_3"><a id="GUID-F24D3D65-C82E-4935-8BFF-2623AA249258" name="GUID-F24D3D65-C82E-4935-8BFF-2623AA249258"></a><h4 id="SPATL-GUID-F24D3D65-C82E-4935-8BFF-2623AA249258" class="sect4"><span class="enumeration_section">E.4.3</span> DUMP_TURN_RESTRICTION_DATA程序</h4>
                  <div>
                     <p>句法：</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.DUMP_TURN_RESTRICTION_DATA(
    LOG_FILE_NAME IN VARCHAR2 := 'sdo_router_partition.log',
    START_PID     IN NUMBER DEFAULT 0,
    END_PID       IN NUMBER DEFAULT -1,
    DUMP_SOFT_RESTRICTIONS IN BOOLEAN DEFAULT FALSE);
</pre><p>DUMP_TURN_RESTRICTION_DATA过程转储转弯限制用户数据分区BLOB的内容。此过程解压缩BLOB，格式化数据并将其写入日志文件。对此过程的单个调用可以转储单个分区或连续的分区范围。此范围定义为从START_PID到END_PID（包括端点）。默认设置是转储所有分区。不能在一次调用中转储不连续的分区范围。</p>
                     <p>LOG_FILE_NAME参数指定转储限制转换限制用户数据分区时写入的日志文件的名称。此日志文件在SDO_ROUTER_LOG_DIR目录中创建。您可以选择日志文件名或写入默认分区日志文件<code class="codeph">sdo_router_partition.log</code> 。
                     </p>
                     <p>START_PID参数是要转储的第一个分区的ID。默认的START_PID为0。START_PID必须小于或等于END_PID。</p>
                     <p>END_PID参数是要转储的最后一个分区的ID。默认END_PID为-1，它将转换为数据集中的最高分区ID。如果开始和结束PID值相等，则转储单个分区。如果END_PID小于START_PID，则会向日志写入错误消息。</p>
                     <p>DUMP_SOFT_RESTRICTIONS参数控制转弯限制数据的转储方式。反过来，具有两个以上边缘的限制，软限制是一系列边缘，部分描述转弯限制。这是一个调试参数，通常应设置为默认值FALSE。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-017D8448-E91E-409E-A13B-4517FCB36238">用户数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1592"></a><div class="props_rev_3"><a id="GUID-3D1530B2-8621-48B6-9CB9-00666AE27724" name="GUID-3D1530B2-8621-48B6-9CB9-00666AE27724"></a><h4 id="SPATL-GUID-3D1530B2-8621-48B6-9CB9-00666AE27724" class="sect4"><span class="enumeration_section">E.4.4</span> CREATE_TRUCKING_DATA程序</h4>
                  <div>
                     <p>句法：</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.CREATE_TRUCKING_DATA(
    LOG_FILE_NAME IN VARCHAR2 := ' sdo_router_partition.log',
    CLEANUP       IN BOOLEAN DEFAULT TRUE);
</pre><p>必须从包含原始卡车运输数据表ROUTER_TRANSPORT的路由引擎架构运行CREATE_TRUCKING_DATA过程。此过程对货运数据进行分区，并创建包含BLOB格式的货运用户数据的ROUTER_TRUCKING_DATA表。货运用户数据创建需要访问数据版本，因此SDO_ROUTER_DATA_VERSION表必须存在于路由引擎模式中。</p>
                     <p>LOG_FILE_NAME参数是在卡车运输限制生成期间写入的日志文件的名称。此日志文件在SDO_ROUTER_LOG_DIR目录中创建。您可以选择日志文件名或使用默认分区日志文件<code class="codeph">sdo_router_partition.log</code> 。
                     </p>
                     <p>CLEANUP参数用于调试。默认情况下，清除在卡车运输限制生成期间创建的所有中间表。如果卡车运输限制生成存在问题，将这些表保留在原位可以提供实质性的调试信息。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-017D8448-E91E-409E-A13B-4517FCB36238">用户数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1593"></a><div class="props_rev_3"><a id="GUID-8ACFD79A-11E7-4B63-ABDD-B5B8AB059732" name="GUID-8ACFD79A-11E7-4B63-ABDD-B5B8AB059732"></a><h4 id="SPATL-GUID-8ACFD79A-11E7-4B63-ABDD-B5B8AB059732" class="sect4"><span class="enumeration_section">E.4.5</span> DUMP_TRUCKING_DATA程序</h4>
                  <div>
                     <p>句法：</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.DUMP_TRUCKING_DATA(
    LOG_FILE_NAME    IN VARCHAR2 := ' sdo_router_partition.log',
    START_PID        IN NUMBER DEFAULT 0,
    END_PID          IN NUMBER DEFAULT -1,
    SKIP_UNSUPPORTED IN BOOLEAN DEFAULT TRUE);
</pre><p>DUMP_TRUCKING_DATA过程转储货运限制用户数据分区BLOB的内容。此过程解压缩BLOB，格式化数据并将其写入日志文件。对此过程的单个调用可以转储单个分区或连续的分区范围。此范围定义为从START_PID到END_PID（包括端点）。默认设置是转储所有分区。不能在一次调用中转储不连续的分区范围。</p>
                     <p>LOG_FILE_NAME参数指定转储货运限制用户数据分区时写入的日志文件的名称。此日志文件在SDO_ROUTER_LOG_DIR目录中创建。您可以选择日志文件名或写入默认分区日志文件<code class="codeph">sdo_router_partition.log</code> 。
                     </p>
                     <p>START_PID参数是要转储的第一个分区的ID。默认的START_PID为0。START_PID必须小于或等于END_PID。</p>
                     <p>END_PID参数是要转储的最后一个分区的ID。默认END_PID为-1，它将转换为数据集中的最高分区ID。如果开始和结束PID值相等，则转储单个分区。如果END_PID小于START_PID，则会向日志写入错误消息。</p>
                     <p>SKIP_UNSUPPORTED参数控制转储货运限制数据的方式。用户数据包含许多限制，以供将来工作但目前不受支持。将SKIP_UNSUPPORTED设置为TRUE（默认值）仅转储当前支持的货运限制。将SKIP_UNSUPPORTED设置为FALSE会导致转储所有卡车运输限制。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-017D8448-E91E-409E-A13B-4517FCB36238">用户数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-72400A0B-3D0B-49DD-93FB-67E49193C02A" name="GUID-72400A0B-3D0B-49DD-93FB-67E49193C02A"></a><h4 id="SPATL-GUID-72400A0B-3D0B-49DD-93FB-67E49193C02A" class="sect4"><span class="enumeration_section">E.4.6</span> CREATE_TIMEZONE_DATA程序</h4>
                  <div>
                     <p>句法：</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.CREATE_TIMEZONE_DATA(
    LOG_FILE_NAME IN VARCHAR2 := 'sdo_router_partition.log',
    CLEANUP       IN BOOLEAN DEFAULT TRUE);
</pre><p>CREATE_TIMEZONE_DATA过程为<a href="routing-engine-concepts.html#GUID-1A51B267-E86F-4D85-94C5-0DA1226A744D">ROUTER_TIMEZONE_DATA表</a>创建用户数据。每次重新分区数据时也应该运行它。
                     </p>
                     <p>LOG_FILE_NAME参数是操作期间写入的日志文件的名称。此日志文件在SDO_ROUTER_LOG_DIR目录中创建。您可以选择日志文件名或使用默认分区日志文件<code class="codeph">sdo_router_partition.log</code> 。
                     </p>
                     <p>CLEANUP参数用于调试。默认情况下，清除操作期间创建的所有中间表。如果操作有问题，将这些表留在原位可以提供大量的调试信息。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-017D8448-E91E-409E-A13B-4517FCB36238">用户数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-7B05372C-9538-49F1-BCF5-CB243F426E10" name="GUID-7B05372C-9538-49F1-BCF5-CB243F426E10"></a><h4 id="SPATL-GUID-7B05372C-9538-49F1-BCF5-CB243F426E10" class="sect4"><span class="enumeration_section">E.4.7</span> DUMP_TIMEZONE_DATA程序</h4>
                  <div>
                     <p>句法：</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.DUMP_TIMEZONE_DATA(
    LOG_FILE_NAME    IN VARCHAR2 := ' sdo_router_partition.log',
    START_PID        IN NUMBER DEFAULT 0,
    END_PID          IN NUMBER DEFAULT -1);
</pre><p>DUMP_TIMEZONE_DATA过程转储时区数据分区BLOB的内容。此过程解压缩BLOB，格式化数据并将其写入日志文件。对此过程的单个调用可以转储单个分区或连续的分区范围。此范围定义为从START_PID到END_PID（包括端点）。默认设置是转储所有分区。不能在一次调用中转储不连续的分区范围。</p>
                     <p>LOG_FILE_NAME参数指定转储时区用户数据分区时写入的日志文件的名称。此日志文件在SDO_ROUTER_LOG_DIR目录中创建。您可以选择日志文件名或写入默认分区日志文件<code class="codeph">sdo_router_partition.log</code> 。
                     </p>
                     <p>START_PID参数是要转储的第一个分区的ID。默认的START_PID为0。START_PID必须小于或等于END_PID。</p>
                     <p>END_PID参数是要转储的最后一个分区的ID。默认END_PID为-1，它将转换为数据集中的最高分区ID。如果开始和结束PID值相等，则转储单个分区。如果END_PID小于START_PID，则会向日志写入错误消息。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-017D8448-E91E-409E-A13B-4517FCB36238">用户数据</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1594"></a><div class="props_rev_3"><a id="GUID-B837EF74-6013-45E0-B599-4C6F306D898C" name="GUID-B837EF74-6013-45E0-B599-4C6F306D898C"></a><h4 id="SPATL-GUID-B837EF74-6013-45E0-B599-4C6F306D898C" class="sect4"><span class="enumeration_section">E.4.8</span>用户数据示例</h4>
                  <div>
                     <p>本节介绍涉及用户数据的操作示例。这些示例中的数据集是旧金山市中心周围100英里半径的道路网络数据。该数据集包含大约520,000个节点和1,200,00个边缘，包括具有卡车限制的82,000个边缘和具有受限制的驾驶操纵的30,000个边缘。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-4AD407F1-CB69-4E56-86DF-D224BB020BC2">重建转弯限制用户数据</a><br></li>
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-3AEC6EF4-1D09-486E-B014-05BCC2F0303C">转储所有硬转限制用户数据BLOB</a><br></li>
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-B668F2FA-D686-474B-87CB-B80026990892">重建货运用户数据</a><br></li>
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-EC397410-F283-4011-8D0F-ABC41908FA47">倾销卡车运输用户数据限制</a><br></li>
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-9F1B71D5-512C-4A24-8389-28CE0FDEC1E1">重建时区用户数据</a><br></li>
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-0BA45F22-ABDC-454B-9CAD-4C45CD19689D">转储所有时区用户数据BLOB</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-017D8448-E91E-409E-A13B-4517FCB36238">用户数据</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="SPATL1596"></a><a id="SPATL1595"></a><div class="props_rev_3"><a id="GUID-4AD407F1-CB69-4E56-86DF-D224BB020BC2" name="GUID-4AD407F1-CB69-4E56-86DF-D224BB020BC2"></a><h5 id="SPATL-GUID-4AD407F1-CB69-4E56-86DF-D224BB020BC2" class="sect5"><span class="enumeration_section">E.4.8.1</span>重建转弯限制用户数据</h5>
                     <div>
                        <div class="section">
                           <p><a href="routing-engine-administration.html#GUID-4AD407F1-CB69-4E56-86DF-D224BB020BC2__CACCEEIG">示例E-8</a>重建转弯限制用户数据。由于cleanup设置为FALSE，因此不会删除用于重建转弯限制用户数据的中间表。（要删除这些表，请执行SDO_ROUTER_PARTITION.CLEANUP_ROUTER <a href="routing-engine-administration.html#GUID-C090BCBF-0E8B-4D0F-AED9-9627BAE33AFD">过程</a> 。）
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-4AD407F1-CB69-4E56-86DF-D224BB020BC2__CACCEEIG">
                           <p class="titleinexample">示例E-8重建转弯限制用户数据</p><pre class="oac_no_warn" dir="ltr">EXEC SDO_ROUTER_PARTITION.CREATE_TURN_RESTRICTION_DATA('rebuild_turn_restriction_data.log', FALSE);

******** Begin generation of turn restriction user data
** Logfile location: /scratch/logs/rebuild_turn_restriction_data.log
[INFO] Generating turn restriction user data for 995 partitions, data version (12.1.0.1.2)
 
[INFO] SQL String: CREATE TABLE new_turn_restriction_data(partition_id NUMBER, num_edges NUMBER, turn_restriction_data BLOB) LOB(turn_restriction_data) STORE AS (STORAGE (INITIAL 512K NEXT 128K MAXEXTENTS UNLIMITED) CHUNK 32768 NOCACHE NOLOGGING)
[INFO] ---- Writing 573 edges for partition 0
[INFO] ---- Writing 16 edges for partition 1
[INFO] ---- Writing 10 edges for partition 2
 
*** Note that partition 3 contains no turn restriction user data
 
[INFO] ---- Writing 8 edges for partition 4
[INFO] ---- Writing 23 edges for partition 5
[INFO] ---- Writing 39 edges for partition 6
*** Many more Writing partition messages
[INFO] ---- Writing 4 edges for partition 1023
[INFO] ---- Writing 11 edges for partition 1024
 
INFO: creating the final turn restriction user data table
INFO: create index rtrud_p_idx on router_turn_restriction_data table
******** Completed generation of turn restriction user data</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-B837EF74-6013-45E0-B599-4C6F306D898C">用户数据示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SPATL1598"></a><a id="SPATL1597"></a><div class="props_rev_3"><a id="GUID-3AEC6EF4-1D09-486E-B014-05BCC2F0303C" name="GUID-3AEC6EF4-1D09-486E-B014-05BCC2F0303C"></a><h5 id="SPATL-GUID-3AEC6EF4-1D09-486E-B014-05BCC2F0303C" class="sect5"><span class="enumeration_section">E.4.8.2</span>倾倒所有硬转弯限制用户数据BLOB</h5>
                     <div>
                        <div class="section">
                           <p><a href="routing-engine-administration.html#GUID-3AEC6EF4-1D09-486E-B014-05BCC2F0303C__CACGDFII">示例E-9</a>转储所有硬转弯限制用户数据BLOB。（转储软限制会产生更大的转储文件，仅在调整转弯限制约束中的问题时才有用。）
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-3AEC6EF4-1D09-486E-B014-05BCC2F0303C__CACGDFII">
                           <p class="titleinexample">示例E-9转储所有硬转弯限制用户数据BLOB</p><pre class="oac_no_warn" dir="ltr">EXEC SDO_ROUTER_PARTITION.DUMP_TURN_RESTRICTION_DATA('dump_all_turn_restrictions.log');

******** Beginning turn restriction dump
** Logfile location: /scratch/logs/dump_all_turn_restrictions.log
** Routeserver data version: 12.1.0.1.2                  <span class="bold">(A)</span>
** Start partition id: 0
** End partition id: 1024
** Dumping soft restrictions: FALSE

Starting turn restriction dump for partition 0, blob length 19956 bytes
  Data version: 12.1.0.1.2
  Partition 0 has 573 edges with turn restrictions       <span class="bold">(B)</span>
    edge id -937799058 has 1 turn restrictions
      Restriction Type/Attributes: Hard/None
      AppliesTo(959): Trucks, Through Traffic, Taxies, Motorcycles,
                      Emergency Vehicles, Delivery Vehicles, Carpools,
                      Buses, Automobiles
      Subpath(1): 24501308
    *******************************
    edge id -936524317 has 2 turn restrictions           <span class="bold">(C)</span>
      Restriction Type/Attributes: Hard/None
      AppliesTo(943): Trucks, Through Traffic, Taxies, Motorcycles,
                      Delivery Vehicles, Carpools, Buses, Automobiles
      Subpath(1): -724922777
      -------
      Restriction Type/Attributes: Hard/None
      AppliesTo(959): Trucks, Through Traffic, Taxies, Motorcycles,
                      Emergency Vehicles, Delivery Vehicles, Carpools,
                      Buses, Automobiles
      Subpath(1): 936524317
    *******************************
    edge id -932185370 has 2 turn restrictions
      Restriction Type/Attributes: Hard/None
      AppliesTo(1023): All Vehicles
      Subpath(1): 836074944                              
      -------
      Restriction Type/Attributes: Hard/None
      AppliesTo(1023): All Vehicles
      Subpath(1): -24638792
    *******************************
    edge id 834380593 has 1 turn restrictions            <span class="bold">(D)</span>
      Restriction Type/Attributes: Hard/None
      AppliesTo(943): Trucks, Through Traffic, Taxies, Motorcycles,
                      Delivery Vehicles, Carpools, Buses, Automobiles
      Subpath(4): 112065672, -112065610, -112008660, -834380591
    *******************************

*** Dump of the remaining restrictions in Partition 0
Starting turn restriction dump for partition 1, blob length 520 bytes
  Partition 1 has 16 edges with turn restrictions        <span class="bold">(E)</span>
    edge id -806530190 has 1 turn restrictions      
      Restriction Type/Attributes: Hard/None
      AppliesTo(703): Trucks, Taxies, Motorcycles, Emergency Vehicles,
                      Delivery Vehicles, Carpools, Buses, Automobiles
      Subpath(1): 120865027
    *******************************
*** Dump of the remaining restrictions in Partition 1 through 1024
</pre><p>在<a href="routing-engine-administration.html#GUID-3AEC6EF4-1D09-486E-B014-05BCC2F0303C__CACGDFII">例E-9中</a> ：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="bold">（A）</span> ：标准用户转储标头包含日志文件的位置和转储中使用的参数。它还包含从SDO_ROUTER_DATA_VERSION表中查询的路由引擎数据版本。此数据版本必须与存储在分区0 BLOB的标头中的数据版本匹配。</p>
                              </li>
                              <li>
                                 <p><span class="bold">（B）</span> ：在分区0 BLOB的BLOB标题部分中，所有转弯限制用户数据BLOB标题包含分区ID，BLOB的长度（以字节为单位）以及具有转弯限制的边数。分区0的BLOB标头还包含用户数据版本。此版本必须与SDO_ROUTER_DATA_VERSION表中的数据版本匹配。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">（C）</span> ：在转移边缘-936524317的转弯限制时，该边缘有两个简单的转弯限制。这两个限制都是简单的转弯限制，不允许从子路径中的单个边缘移动到边缘-936524317。另请注意限制适用的车辆的差异：第一个限制不适用于紧急车辆，但第二个限制适用于紧急车辆。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">（D）</span> ：Edge 834380593只有一个转弯限制，但所描述的限制比简单转弯要复杂得多。如果紧靠边缘834380593之前的子路径与从边缘-834380591开始并且正好按此顺序经过边缘-112008660，-112065610,112065672的子路径匹配，则不允许操纵。如果到当前边缘的子路径缺少列出的子路径边缘之一，或者如果子路径中的边缘的顺序不同，则允许操纵。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">（E）</span> ：在本地分区的BLOB头中，所有转弯限制用户数据BLOB头包含分区ID，BLOB的长度（以字节为单位）以及具有转弯限制的边数。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-B837EF74-6013-45E0-B599-4C6F306D898C">用户数据示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SPATL1600"></a><a id="SPATL1599"></a><div class="props_rev_3"><a id="GUID-B668F2FA-D686-474B-87CB-B80026990892" name="GUID-B668F2FA-D686-474B-87CB-B80026990892"></a><h5 id="SPATL-GUID-B668F2FA-D686-474B-87CB-B80026990892" class="sect5"><span class="enumeration_section">E.4.8.3</span>重建货运用户数据</h5>
                     <div>
                        <div class="section">
                           <p><a href="routing-engine-administration.html#GUID-B668F2FA-D686-474B-87CB-B80026990892__CACDIEHJ">示例E-10</a>重建货运用户数据。由于清理使用默认值TRUE，因此在构建完成时将删除用于重建转弯限制用户数据的中间表。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-B668F2FA-D686-474B-87CB-B80026990892__CACDIEHJ">
                           <p class="titleinexample">示例E-10重建货运用户数据</p><pre class="oac_no_warn" dir="ltr">EXEC SDO_ROUTER_PARTITION.CREATE_TRUCKING_DATA('rebuild_trucking_data.log');
******** Begin generation of trucking user data
** Logfile location:/scratch/logs/rebuild_trucking_data.log
[INFO] Generating trucking user data for <span class="bold">974 partitions</span>, 
data version (12.1.0.1.2)                                <span class="bold">(A)</span>
 
[INFO] SQL String: CREATE TABLE new_trucking_data
(partition_id NUMBER, num_edges NUMBER, trucking_data BLOB) LOB(trucking_data) STORE AS (STORAGE (INITIAL 512K NEXT 128K MAXEXTENTS UNLIMITED) CHUNK 32768 NOCACHE NOLOGGING)

INFO: creating the final trucking user data table
INFO: create index rtud_p_idx on router_trucking_data table
******** Completed generation of trucking user data
</pre><p>在<a href="routing-engine-administration.html#GUID-B668F2FA-D686-474B-87CB-B80026990892__CACDIEHJ">示例E-10中</a> ：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="bold">（A）</span> ：请注意，与路由引擎数据的1023个本地分区（参见<a href="routing-engine-administration.html#GUID-3AEC6EF4-1D09-486E-B014-05BCC2F0303C__CACGDFII">示例E-9中</a>的输出）相比，仅有974个货运用户数据分区。如果用户数据输出中缺少分区，则表示相关路由引擎数据分区没有卡车运输数据。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-B837EF74-6013-45E0-B599-4C6F306D898C">用户数据示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SPATL1602"></a><a id="SPATL1601"></a><div class="props_rev_3"><a id="GUID-EC397410-F283-4011-8D0F-ABC41908FA47" name="GUID-EC397410-F283-4011-8D0F-ABC41908FA47"></a><h5 id="SPATL-GUID-EC397410-F283-4011-8D0F-ABC41908FA47" class="sect5"><span class="enumeration_section">E.4.8.4</span>倾倒卡车运输用户数据限制</h5>
                     <div>
                        <div class="section">
                           <p><a href="routing-engine-administration.html#GUID-EC397410-F283-4011-8D0F-ABC41908FA47__CACECBGJ">示例E-11</a>转储货运用户数据限制。此示例转储支持的分区0到25的限制。在转储中，Main Type是限制类型，Subtype是限制的原因，Value是衡量限制的方法。例如，高度限制是主要类型，子类型可以是桥梁或隧道，或者可以是未知，而值可以是度量（总是度量），如高度和宽度的米或重量的公吨。对于无法进行物理测量的某些限制（例如法律限制），值也可以为0。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-EC397410-F283-4011-8D0F-ABC41908FA47__CACECBGJ">
                           <p class="titleinexample">示例E-11倾倒卡车运输用户数据限制</p><pre class="oac_no_warn" dir="ltr">EXEC SDO_ROUTER_PARTITION.DUMP_TRUCKING_DATA('dump_trucking_data0-25.log', 0, 25);

******** Beginning trucking data dump
** Logfile location: /scratch/logs/dump_trucking_data0-25.log
** Routeserver data version: 12.1.0.1.2                  <span class="bold">(A)</span>
** Start partition id: 0
** End partition id: 25

Starting truck data dump for partition 0, blob length 1019048 bytes
  Data version: 12.1.0.1.2
  Partition 0 has 21808 edges with truck data            <span class="bold">(B)</span>
    edge id -939054768 has 4 truck restrictions
      Main Type(10): Physical Height Restriction
      Sub-type(99): Unknown
      Value: 4.65
    *******************************
    edge id -854677940 has 3 truck restrictions
      Main Type(10): Physical Height Restriction
      Sub-type(1): Bridge
      Value: 4.67
    *******************************
    edge id -929320205 has 4 truck restrictions          <span class="bold">(C)</span>
      Main Type(10): Physical Height Restriction
      Sub-type(2): Tunnel
      Value: 4.27
      -------
      Main Type(20): Physical Weight Restriction
      Sub-type(99): Unknown
      Value: 4.08
    *******************************

*** The rest of the trucking data for edges in partition 0

Starting truck data dump for partition 2, blob length 296 bytes
                                                         <span class="bold">(D)</span>

Starting truck data dump for partition 3, blob length 3272 bytes
  Partition 3 has 91 edges with truck data
    edge id -811551125 has 1 truck restrictions
      Main Type(50): Legal Restriction
      Sub-type(22): All trailers forbidden
      Value: 0.0
    *******************************
    edge id 105439903 has 1 truck restrictions
      Main Type(20): Physical Weight Restriction
      Sub-type(99): Unknown
      Value: 9.07
    *******************************
    edge id -105491810 has 1 truck restrictions          <span class="bold">(E)</span>
      Main Type(50): Legal Restriction
      Sub-type(21): All trucks forbidden
      Value: 0.0
    *******************************
    edge id -105449802 has 1 truck restrictions
      Main Type(50): Legal Restriction
      Sub-type(26): All trucks forbidden except deliveries and residents
      Value: 0.0
    *******************************

 *** The rest of the trucking data for edges in partitions 3 through 25
</pre><p>在<a href="routing-engine-administration.html#GUID-EC397410-F283-4011-8D0F-ABC41908FA47__CACECBGJ">示例E-11中</a> ：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="bold">（A）</span> ：标准用户转储标头包含日志文件的位置和转储中使用的参数。它还包含从SDO_ROUTER_DATA_VERSION表中查询的路由引擎数据版本。此数据版本必须与存储在分区0 BLOB的标头中的数据版本匹配。</p>
                              </li>
                              <li>
                                 <p><span class="bold">（B）</span> ：在分区0 BLOB的BLOB标题部分中，所有转弯限制用户数据BLOB标题包含分区ID，BLOB的长度（以字节为单位）以及具有转弯限制的边数。分区0的BLOB标头还包含用户数据版本。此版本必须与SDO_ROUTER_DATA_VERSION表中的数据版本匹配。
                                 </p>
                                 <p>Edge -939054768列为4卡车限制，但只列出了一个。其他三个限制存在，但目前在路由引擎中不受支持。要查看这些限制，请在请求转储时将SKIP_UNSUPPORTED设置为FALSE。</p>
                                 <p>对于边缘-929320205，高度限制是因为桥。Edge -939054768也有高度限制，但没有指定Subtype来解释原因。</p>
                              </li>
                              <li>
                                 <p><span class="bold">（C）</span> ：这是对其具有多个限制的边缘的示例，在这种情况下，高度和重量限制均以米和公吨表示。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">（D）</span> ：这里要注意两件事：（1）缺少分区1，这意味着分区1没有货运用户数据; （2）为分区2打印了一个分区标题，但是没有数据转储，这意味着分区2存在卡车运输限制，但路由引擎当前不支持它们。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">（E）</span> ：这是可以建模的两种法律限制的示例。（1）Edge -105491810是一个独家法律限制的例子。禁止所有卡车的边缘存在法律限制。（2）边缘-105449802是包含性法律限制的一个例子。有法律限制，不包括边缘卡车，但也列出了交付和居民卡车的例外。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-B837EF74-6013-45E0-B599-4C6F306D898C">用户数据示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-9F1B71D5-512C-4A24-8389-28CE0FDEC1E1" name="GUID-9F1B71D5-512C-4A24-8389-28CE0FDEC1E1"></a><h5 id="SPATL-GUID-9F1B71D5-512C-4A24-8389-28CE0FDEC1E1" class="sect5"><span class="enumeration_section">E.4.8.5</span>重建时区用户数据</h5>
                     <div>
                        <div class="section">
                           <p>以下示例重建时区用户数据。在构建时区用户数据之前，请确保数据集中存在SDO_TIMEZONES表。该表可以从Oracle Router演示目录导入。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-9F1B71D5-512C-4A24-8389-28CE0FDEC1E1__REBUILDINGTHETRUCKINGUSERDATA-451CCE90">
                           <p class="titleinexample">示例E-12重建时区用户数据</p><pre class="oac_no_warn" dir="ltr">-- 1) Create a spatial index on the SDO_TIMEZONES table.

EXEC SDO_ROUTER_TIMEZONE.CREATE_SDO_TIMEZONES_INDEX(‘create_timezone_index.log’);

******** Begin indexing of the sdo_timezones table
** Logfile location: /scratch/logs/create_timezone_index.log
[INFO] Creating metadata and spatial index on sdo_timezones for HERE_SF
[INFO] Added metadata for sdo_timezones to user_sdo_geom_metadata
[INFO] Rebuilding the spatial index on node table 
[INFO] Added metadata for node to user_sdo_geom_metadata

-- 2) Associate the edges in the data set with their correct time zone.

EXEC SDO_ROUTER_TIMEZONE.CREATE_ROUTER_TIMEZONES_EDGES('create_router_timezone_edges.log’);

******** Begin generation of router_timezones_edges (timezones raw data)
** Logfile location: /scratch/logs/create_router_timezone_edges.log
[INFO] Creating router_timezones_edges table for HERE_SF
[INFO] Associate nodes to timezones
[INFO] Dropped metadata for router_timezones_nodes from user_sdo_geom_metadata
[INFO] Added metadata for router_timezones_nodes to user_sdo_geom_metadata
[INFO] Creating node id index on the router_timezones_nodes table
[INFO] Creating spatial index on the router_timezones_nodes table
[INFO] Associate orphan nodes to timezone polygons
[INFO] Duplicate node cleanup
[INFO] Associate edges to timezones
[INFO] Creating edge id index on the router_timezones_edges table
[INFO] Creating partition id index on the router_timezones_edges table
[INFO] Creating timezone id index on the router_timezones_edges table
******** Completed generation of router_timezones_edges

-- 3) Create the actual Router time zone user data.

EXEC SDO_ROUTER_PARTITION.CREATE_TIMEZONE_DATA('rebuild_timezone_data.log’);

******** Begin generation of timezone user data
** Logfile location: /scratch/logs/rebuild_timezone_data.log
[INFO] Generating timezone user data for 65 partitions, data version (12.2.0.0.0)
[INFO] SQL String: CREATE TABLE new_timezone_data(partition_id NUMBER, num_edges NUMBER, timezone_data BLOB) LOB(timezone_data) STORE AS (STORAGE (INITIAL 512K NEXT 128K MAXEXTENTS UNLIMITED) CHUNK 32768 NOCACHE NOLOGGING)
[INFO] ---- Writing 3096 timezones for partition 0
[INFO] ---- Writing 2063 timezones for partition 1
[INFO] ---- Writing 1961 timezones for partition 2
[INFO] ---- Writing 2281 timezones for partition 3
…
…
[INFO] ---- Writing 1839 timezones for partition 64
INFO: creating the final timezone user data table
INFO: create index rtd_p_idx on router_timezone_data table
</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-B837EF74-6013-45E0-B599-4C6F306D898C">用户数据示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-0BA45F22-ABDC-454B-9CAD-4C45CD19689D" name="GUID-0BA45F22-ABDC-454B-9CAD-4C45CD19689D"></a><h5 id="SPATL-GUID-0BA45F22-ABDC-454B-9CAD-4C45CD19689D" class="sect5"><span class="enumeration_section">E.4.8.6</span>转储所有时区用户数据BLOB</h5>
                     <div>
                        <div class="section">
                           <p>以下示例转储所有时区用户数据BLOB。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-0BA45F22-ABDC-454B-9CAD-4C45CD19689D__DUMPINGALLTIMEZONEUSERDATABLOBS-451DBB63">
                           <p class="titleinexample">示例E-13转储所有时区用户数据BLOB</p><pre class="oac_no_warn" dir="ltr">EXEC SDO_ROUTER_PARTITION.DUMP_TIMEZONE_DATA('dump_timezone_data.log');

Starting timezone user data dump for partition 0, blob length 30992 bytes
  Data version: 12.2.0.0.0
  Partition 0 has 3096 edges with timezone user data
    edge id/Timezone -960842086/America/Los_Angeles(0)
    edge id/Timezone -960842085/America/Los_Angeles(0)
    edge id/Timezone -958443422/America/Los_Angeles(0)
…
…
Starting timezone user data dump for partition 64, blob length 18398 bytes
  Partition 64 has 1839 edges with timezone user data
    edge id/Timezone -961912976/America/Los_Angeles(0)
    edge id/Timezone -961912975/America/Los_Angeles(0)
    edge id/Timezone -958078848/America/Los_Angeles(0)
…
…
</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-B837EF74-6013-45E0-B599-4C6F306D898C">用户数据示例</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="SPATL1603"></a><div class="props_rev_3"><a id="GUID-32CC3FB3-273E-40D4-B05C-8B3CE3395945" name="GUID-32CC3FB3-273E-40D4-B05C-8B3CE3395945"></a><h3 id="SPATL-GUID-32CC3FB3-273E-40D4-B05C-8B3CE3395945" class="sect3"><span class="enumeration_section">E.5</span>其他功能和程序</h3>
               <div>
                  <p>以下功能和过程供分区过程中的路由引擎内部使用。除非Oracle支持人员指示，否则不应直接调用它们。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>GET_PID：用于在分区期间获取分区ID。</p>
                     </li>
                     <li>
                        <p>MIN_EIGENVECTOR：分区期间使用的特征向量。</p>
                     </li>
                     <li>
                        <p>GATHER_TABLE_STATS：已弃用。用于重建表和索引统计信息。</p>
                     </li>
                     <li>
                        <p>所有ELOCATION_ *：用于分区的Java代码的包装器。</p>
                     </li>
                     <li>
                        <p>BUILD_TURN_RESTRICTIONS已弃用。用于构建<span class="italic">11g</span>转弯限制。
                        </p>
                     </li>
                     <li>
                        <p>GET_EDGE_INFO：收集用于构建路线行车路线的边缘信息。</p>
                     </li>
                     <li>
                        <p>GET_GEOMETRY_INFO：构建路径的线串几何。</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="routing-engine-administration.html#GUID-ED1682F6-EEC2-4080-A29A-269CD89DEB4F" title="本附录适用于需要管理路由引擎的高级用户。它不适用于大多数路由用户。">路由引擎管理</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>