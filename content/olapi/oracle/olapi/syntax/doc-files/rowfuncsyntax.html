<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en-US">
<head>
<title>Examples of TypedExpression Methods</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="generator" content="Oracle ST-Doc Jadey 2.5">

    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <meta name="dcterms.created" content="2019-01-10T23:14:23+00:00">
    <meta name="dcterms.title" content="Oracle OLAP Java API Reference">
    <meta name="dcterms.category" content="database">
    <meta name="dcterms.isVersionOf" content="OLAPI">
    <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
    <meta name="dcterms.identifier" content="E96404-01">
    <meta name="dcterms.release" content="Release 19">
  <script id="ssot-metadata" type="application/json"> {"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}} </script>
    </head>
<body bgcolor="white">
<p style="display: none"><a href="#skip_navbar" title="Skip navigation links">Skip navigation links</a> <a name="skip_navbar" id="skip_navbar"></a></p>
<table class="oac_no_warn" summary="Layout table... probably." border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td align="right" valign="top" rowspan="3"><em><b>Oracle® OLAP Java API Reference<br>
19c</b><br>
E96404-01
</em></td>
</tr>
</table>
<h1>Examples of TypedExpression Methods</h1>
<p>This page has examples of the methods of the <code>TypedExpression</code> class In the examples, the <code>mp</code> object is the <code>MdmMetadataProvider</code> for the session.</p>
<p>&nbsp;</p>
<hr>
<!--  Template for Examples, starting from H2
<H2 id=>Example for </H2>

<pre>

Example goes here.
</pre>

The example produces the following output.

<pre>
The syntax of exp is xxx</pre>

The <CODE>exp</CODE> <CODE>TypedExpression</CODE> evaluates to
<CODE>yyy</CODE>.
   
<P>&nbsp;
<hr>   
-->
<h2 id="ascii">Example for ascii</h2>
<pre>
  TypedExpression char = (TypedExpression) SyntaxObject.fromSyntax("'Boston'", mp);
  TypedExpression asciiExpr = exp.ascii();
  System.out.println("The syntax of asciiExpr is " + asciiExpr.toSyntax());
</pre>
<p>The example produces the following output.</p>
<pre>
The syntax of asciiExpr is ASCII('Boston')
</pre>
<p>The <code>asciiExpr</code> <code>TypedExpression</code> evaluates to <code>66</code>, which is the ASCII equivalent of the letter B.</p>
<p>&nbsp;</p>
<hr>
<h2 id="chr">Example for chr</h2>
<pre>
  TypedExpression numExp = (TypedExpression) SyntaxObject.fromSyntax("67", mp);
  TypedExpression chrExp = numExp.chr();
  System.out.println("The syntax of chrExp is " + chrExp.toSyntax());

  // Example for chr(boolean usingNChar).   
  boolean useNCharCS = true;
  TypedExpression chrNcharExp = numExp.chr(useNCharCS);
  System.out.println("The syntax of chrNcharExp is " + chrNcharExp.toSyntax());
</pre>
<p>The example produces the following output.</p>
<pre>
The syntax of chrExp is CHR(67).
The syntax of chrNcharExp is CHR(67 USING NCHAR_CS)
</pre>
<p>The <code>chrExp</code> <code>TypedExpression</code> evaluates to <code>C</code>.</p>
<p>The <code>chrNcharExp</code> <code>TypedExpression</code> evaluates to <code>C</code>.</p>
<p>&nbsp;</p>
<hr>
<h2 id="concat">Example for concat</h2>
<pre>
   // Concatenate a TypedExpression and a String.  
   TypedExpression char1 = (TypedExpression) 
                            SyntaxObject.fromSyntax("'The time '", mp);
   TypedExpression concatExpS = char1.concat("has come.");
   System.out.println("The syntax of concatExpS is " + concatExpS.toSyntax());
    
   // Concatenate a TypedExpression and another TypedExpression.
   TypedExpression stringExp = (TypedExpression) 
                                SyntaxObject.fromSyntax("'is '", mp);                                 
   TypedExpression curTime = (TypedExpression) 
                              SyntaxObject.fromSyntax("CURRENT_TIMESTAMP(2)", mp);
   TypedExpression char2 = stringExp.concat(curTime);
   TypedExpression concatExpT = char1.concat(char2);
    
   System.out.println("The syntax of concatExpT is " + concatExpT.toSyntax());
</pre>
<p>The example produces the following output.</p>
<pre>
The syntax of concatExpS is 'The time ' || 'has come.'
The syntax of concatExpT is 'The time ' || ('is ' || CURRENT_TIMESTAMP(2))
</pre>
<p>The <code>||</code> characters are the concatenation operator.</p>
<p>The <code>concatExpS</code> <code>TypedExpression</code> evaluates to <code>The time has come.</code></p>
<p>The <code>concatExpT</code> <code>TypedExpression</code> evaluates to <code>The time is 19-OCT-06 11.19.29.63 AM -07:00</code>.</p>
<p>&nbsp;</p>
<hr>
<h2 id="initcap">Example for initcap</h2>
<pre>
  TypedExpression charExp = (TypedExpression) 
                             SyntaxObject.fromSyntax("'top tEN tunes'", mp);
  TypedExpression initcapExp = charExp.initcap();
  System.out.println("The syntax of initcapExp is " + initcapExp.toSyntax());
</pre>
<p>The example produces the following output.</p>
<pre>
The syntax of initcapExpr is INITCAP('top tEN tunes')
</pre>
<p>The <code>initcapExpr</code> <code>TypedExpression</code> evaluates to <code>Top Ten Tunes</code>.</p>
<p>&nbsp;</p>
<hr>
<!--
<H2 id=instr>Example for instr</H2>

<pre>
Example goes here.
</pre>

The example produces the following output.

<pre>
The syntax of exp is xxx</pre>

The <CODE>exp</CODE> <CODE>TypedExpression</CODE> evaluates to
<CODE>yyy</CODE>.
   
<P>&nbsp;
<hr>   

<H2 id=instrB>Example for instrB</H2>

<pre>
Example goes here.
</pre>

The example produces the following output.

<pre>
The syntax of exp is xxx</pre>

The <CODE>exp</CODE> <CODE>TypedExpression</CODE> evaluates to
<CODE>yyy</CODE>.
   
<P>&nbsp;
<hr>   

<H2 id=nlsInitcap>Example for nlsInitcap</H2>

<pre>
Example goes here.
</pre>

The example produces the following output.

<pre>
The syntax of exp is xxx</pre>

The <CODE>exp</CODE> <CODE>TypedExpression</CODE> evaluates to
<CODE>yyy</CODE>.
   
<P>&nbsp;
<hr>   
 -->
<h2 id="round">Examples for round</h2>
<p>This first example rounds a number. It produces the <code>TypedExpression</code> objects <code>roundNumExpr</code> and <code>roundNegNumExpr</code>.</p>
<pre>
  NumberExpression n1 = (NumberExpression) SyntaxObject.fromSyntax("15.193", mp);
  NumberExpression rhs = (NumberExpression) SyntaxObject.fromSyntax("1", mp);
  TypedExpression roundNumExpr = n1.round(rhs);
  rhs = (NumberExpression) SyntaxObject.fromSyntax("-1", mp);
  TypedExpression roundNegNumExpr = n1.round(rhs);
  System.out.println("The syntax of roundNumExpr is " + roundNumExpr.toSyntax());
  System.out.println("The syntax of roundNegNumExpr is " +
                                            roundNegNumExpr.toSyntax());
</pre>
<p>The example produces the following output.</p>
<pre>
The syntax of roundNumExpr is ROUND(15.193, 1)
The syntax of roundNegNumExpr is ROUND(15.193, -1)
</pre>
<p>The <code>roundNumExpr</code> <code>TypedExpression</code> evaluates to <code>15.2</code>.<br>
The <code>roundNegNumExpr</code> <code>TypedExpression</code> evaluates to <code>20</code>.</p>
<p>This second example rounds a date. It produces the <code>TypedExpression</code> object <code>roundedDateExpr</code>.</p>
<pre>
  DateExpression dateExpr = new DateExpression("2006-11-15", DataType.DATE);
  TypedExpression roundedDateExpr = dateExpr.round(fmt);
  System.out.println("The syntax of roundedDateExpr is " + 
                      roundedDateExpr.toSyntax());
</pre>
<p>The example produces the following output.</p>
<pre>
The syntax of roundedDateExpr is ROUND(DATE '2006-11-15', 'YEAR')
</pre>
<p>The <code>roundedDateExpr</code> <code>TypedExpression</code> evaluates to <code>01-JAN-07</code>.</p>
<p>&nbsp;</p>
<hr>
<h2 id="trunc">Example for trunc</h2>
<p>The following code produces the <code>TypedExpression</code> objects <code>truncNumExpr</code>, <code>truncNegNumExpr</code>, and <code>truncZeroNumExpr</code>.</p>
<pre>
  NumberExpression exp = (NumberExpression) SyntaxObject.fromSyntax("15.193", mp);
  NumberExpression fmt = (NumberExpression) SyntaxObject.fromSyntax("1", mp);
  TypedExpression truncNumExpr = exp.trunc(fmt);
  fmt = (NumberExpression) SyntaxObject.fromSyntax("-1", mp);
  TypedExpression truncNegNumExpr = exp.trunc(fmt);
  fmt = (NumberExpression) SyntaxObject.fromSyntax("0", mp);
  TypedExpression truncZeroNumExpr = exp.trunc(fmt);
  System.out.println("The syntax of truncNumExpr is " + truncNumExpr.toSyntax());
  System.out.println("The syntax of truncNegNumExpr is " +
                                              truncNegNumExpr.toSyntax());
  System.out.println("The syntax of truncZeroNumExpr is " + truncZeroNumExpr.toSyntax());
</pre>
<p>The code produces the following output.</p>
<pre>
  The syntax of truncNumExpr is TRUNC(15.193, 1)
  The syntax of truncNegNumExpr is TRUNC(15.193, -1)
  The syntax of truncZeroNumExpr is TRUNC(15.193, 0)
</pre>
<p>The <code>truncNumExpr</code> <code>TypedExpression</code> evaluates to <code>15.2</code>.<br>
The <code>truncNegNumExpr</code> <code>TypedExpression</code> evaluates to <code>20</code>.<br>
The <code>truncZeroNumExpr</code> <code>TypedExpression</code> evaluates to <code>15</code>.</p>
<p>&nbsp;</p>
<hr>
<h2 id="widthbucket">Example for widthBucket</h2>
<pre>
  TypedExpression exp = (TypedExpression) SyntaxObject.fromSyntax("13", mp);
  TypedExpression minValue = (TypedExpression) SyntaxObject.fromSyntax("0", mp);
  TypedExpression maxValue = (TypedExpression) SyntaxObject.fromSyntax("20", mp);
  TypedExpression numBuckets = (TypedExpression) SyntaxObject.fromSyntax("4", mp);
  TypedExpression wbExpr = exp.widthBucket(minValue, maxValue, numBuckets);

  exp = (TypedExpression) SyntaxObject.fromSyntax("-5", mp);
  TypedExpression wbNegExpr = exp.widthBucket(minValue, maxValue, numBuckets);
  
  System.out.println("The syntax of wbExpr is " + wbExpr.toSyntax());
  System.out.println("The syntax of wbNegExpr is " + wbNegExpr.toSyntax());
</pre>
<p>The example produces the following output.</p>
<pre>
The syntax of wbExpr is WIDTH_BUCKET(13, 0, 20, 4)
The syntax of wbNegExpr is WIDTH_BUCKET(-5, 0, 20, 4)
</pre>
<p>The <code>wbExpr</code> <code>TypedExpression</code> evaluates to <code>3</code>. The evaluation creates four buckets from 0 to 20 and sorts the value 13 into bucket 3.</p>
<p>The <code>wbNegExpr</code> <code>TypedExpression</code> evaluates to <code>0</code>. The value -5 is below the beginning of the range.</p>
<p>&nbsp;</p>
<hr>
<center>Copyright © 2002, 2018, Oracle. All rights reserved.</center>
</body>
</html>
