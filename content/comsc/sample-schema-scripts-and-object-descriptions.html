<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>示例模式脚本和对象描述</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Sample Schemas">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Sample Schemas">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-sample-schemas.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-13T19:24:57-08:00">
      <meta name="dcterms.title" content="Database Sample Schemas">
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96482-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="schema-diagrams.html" title="Previous" type="text/html">
      <link rel="next" href="HR-sample-schema-scripts-and-objects.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="COMSC">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="schema-diagrams.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="HR-sample-schema-scripts-and-objects.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库示例模式</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">示例模式脚本和对象描述</li>
            </ol>
            <a id="GUID-35C4F53F-2DB6-4B74-888E-08B0C701F26E" name="GUID-35C4F53F-2DB6-4B74-888E-08B0C701F26E"></a><a id="COMSC004"></a>
            
            <h2 id="COMSC-GUID-35C4F53F-2DB6-4B74-888E-08B0C701F26E" class="sect2"><span class="enumeration_chapter">4</span>示例架构脚本和对象描述</h2>
         </header>
         <div class="ind">
            <div>
               <p>考虑用于生成Oracle数据库示例模式的脚本。每个模式都有两个主要脚本：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><span class="italic"><code class="codeph">xx</code></span> <code class="codeph">_main.sql</code>脚本（其中<span class="italic"><code class="codeph">xx</code></span>是架构缩写）重置并创建特定架构的所有对象和数据。此主脚本调用构建和加载架构所需的所有其他脚本。
                     </p>
                  </li>
                  <li>
                     <p>脚本<span class="italic"><code class="codeph">xx</code></span> <code class="codeph">_drop.sql</code> ，其中<span class="italic"><code class="codeph">xx</code></span>是模式名称，从特定模式中删除所有对象。
                     </p>
                  </li>
               </ul>
            </div><a id="COMSC00018"></a><div class="props_rev_3"><a id="GUID-C4CD5121-A94A-4CFB-99B4-885002C4D75E" name="GUID-C4CD5121-A94A-4CFB-99B4-885002C4D75E"></a><h3 id="COMSC-GUID-C4CD5121-A94A-4CFB-99B4-885002C4D75E" class="sect3"><span class="enumeration_section">4.1</span>示例模式的主脚本</h3>
               <div>
                  <p>主脚本<code class="codeph">mksample.sql</code>设置整个示例模式环境并创建所有模式。
                  </p>
                  <p>在主脚本（ <code class="codeph">mksample.sql</code> ）中，您将注意到<code class="codeph">%s_pmPath%</code> ， <code class="codeph">%s_logPath%</code>和<code class="codeph">%s_shPath%</code>等<code class="codeph">%s_shPath%</code> 。这些变量在安装时实例化。
                  </p>
               </div><a id="COMSC00019"></a><div class="props_rev_3"><a id="GUID-8050CB76-88B4-4BB0-9AFD-C84C0E7647A4" name="GUID-8050CB76-88B4-4BB0-9AFD-C84C0E7647A4"></a><h4 id="COMSC-GUID-8050CB76-88B4-4BB0-9AFD-C84C0E7647A4" class="sect4"><span class="enumeration_section">4.1.1</span> mksample.sql</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">mksample.sql</code>脚本的文本如下：</p><pre class="oac_no_warn" dir="ltr">Rem
Rem $Header: mksample.sql.sbs 02-apr-2003.14:55:17 $
Rem
Rem mksample.sql
Rem
Rem Copyright (c) 2001, 2003, Oracle Corporation. All rights reserved. 
Rem
Rem NAME
Rem mksample.sql - creates all 5 Sample Schemas
Rem
Rem DESCRIPTION
Rem This script rees and creates all Schemas belonging
Rem to the Oracle Database 10g Sample Schemas.
Rem If you are unsure about the prerequisites for the Sample Schemas,
Rem please use the Database Configuration Assistant DBCA to
Rem configure the Sample Schemas.
Rem
Rem NOTES
Rem - OUI instantiates this script during install and saves it
Rem as mksample.sql. The instantiated scripts matches
Rem the directory structure on your system
Rem - Tablespace EXAMPLE created with:
Rem CREATE TABLESPACE example 
Rem NOLOGGING 
Rem DATAFILE '&lt;filename&gt;' SIZE 150M REUSE 
Rem AUTOEXTEND ON NEXT 640k
Rem MAXSIZE UNLIMITED
Rem EXTENT MANAGEMENT LOCAL
Rem SEGMENT SPACE MANAGEMENT AUTO;
Rem 
Rem - CAUTION: This script will erase the following schemas:
Rem - HR
Rem - OE
Rem - PM
Rem - SH
Rem - IX
Rem - BI
Rem - CAUTION: Never use the preceding Sample Schemas for
Rem anything other than demos and examples
Rem - USAGE: To return the Sample Schemas to their initial 
Rem state, you can call this script and pass the passwords
Rem for SYS, SYSTEM and the schemas as parameters.
Rem Example: @?/demo/schema/mksample mgr secure h1 o2 p3 q4 s5
Rem (please choose your own passwords for security purposes)
Rem
Rem MODIFIED (MM/DD/YY)
Rem 
Rem

SET FEEDBACK 1
SET NUMWIDTH 10
SET LINESIZE 80
SET TRIMSPOOL ON
SET TAB OFF
SET PAGESIZE 999
SET ECHO OFF
SET CONCAT '.'
SET SHOWMODE OFF

PROMPT 
PROMPT specify password for SYSTEM as parameter 1:
DEFINE password_system = &amp;1
PROMPT 
PROMPT specify password for SYS as parameter 2:
DEFINE password_sys = &amp;2
PROMPT 
PROMPT specify password for HR as parameter 3:
DEFINE password_hr = &amp;3
PROMPT
PROMPT specify password for OE as parameter 4:
DEFINE password_oe = &amp;4
PROMPT
PROMPT specify password for PM as parameter 5:
DEFINE password_pm = &amp;5
PROMPT
PROMPT specify password for IX as parameter 6:
DEFINE password_ix = &amp;6
PROMPT
PROMPT specify password for SH as parameter 7:
DEFINE password_sh = &amp;7
PROMPT 
PROMPT specify password for BI as parameter 8:
DEFINE password_bi = &amp;8
PROMPT 
PROMPT specify default tablespace as parameter 9:
DEFINE default_ts = &amp;9
PROMPT
PROMPT specify temporary tablespace as parameter 10:
DEFINE temp_ts = &amp;10
PROMPT 
PROMPT specify log file directory (including trailing delimiter) as parameter
 11:
DEFINE logfile_dir = &amp;11
PROMPT 
PROMPT Sample Schemas are being created ...
PROMPT
DEFINE vrs = v3

CONNECT system/&amp;&amp;password_system

DROP USER hr CASCADE;
DROP USER oe CASCADE;
DROP USER pm CASCADE;
DROP USER ix CASCADE;
DROP USER sh CASCADE;
DROP USER bi CASCADE;

CONNECT system/&amp;&amp;password_system

SET SHOWMODE OFF

@?/demo/schema/human_resources/hr_main.sql &amp;&amp;password_hr &amp;&amp;default_ts &amp;&amp;temp_ts
 &amp;&amp;password_sys &amp;&amp;logfile_dir

CONNECT system/&amp;&amp;password_system
SET SHOWMODE OFF

@?/demo/schema/order_entry/oe_main.sql &amp;&amp;password_oe &amp;&amp;default_ts &amp;&amp;temp_ts
 &amp;&amp;password_hr &amp;&amp;password_sys %s_oePath% &amp;&amp;logfile_dir &amp;vrs

CONNECT system/&amp;&amp;password_system
SET SHOWMODE OFF

@?/demo/schema/product_media/pm_main.sql &amp;&amp;password_pm &amp;&amp;default_ts &amp;&amp;temp_ts
 &amp;&amp;password_oe &amp;&amp;password_sys %s_pmPath% &amp;&amp;logfile_dir %s_pmPath%

CONNECT system/&amp;&amp;password_system
SET SHOWMODE OFF

@?/demo/schema/info_exchange/ix_main.sql &amp;&amp;password_ix &amp;&amp;default_ts &amp;&amp;temp_ts
 &amp;&amp;password_sys &amp;&amp;logfile_dir &amp;vrs

CONNECT system/&amp;&amp;password_system
SET SHOWMODE OFF

@?/demo/schema/sales_history/sh_main &amp;&amp;password_sh &amp;&amp;default_ts &amp;&amp;temp_ts
 &amp;&amp;password_sys %s_shPath% &amp;&amp;logfile_dir &amp;vrs

CONNECT system/&amp;&amp;password_system
SET SHOWMODE OFF

@?/demo/schema/bus_intelligence/bi_main &amp;&amp;password_bi &amp;&amp;default_ts &amp;&amp;temp_ts
 &amp;&amp;password_sys &amp;&amp;password_oe &amp;&amp;password_sh &amp;&amp;logfile_dir &amp;vrs

CONNECT system/&amp;&amp;password_system

SPOOL OFF

DEFINE veri_spool = &amp;&amp;logfile_dir.mkverify_&amp;vrs..log

@?/demo/schema/mkverify &amp;&amp;password_system &amp;veri_spool 

EXIT
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>